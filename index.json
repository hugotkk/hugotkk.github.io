[{"content":" go to about:profile create a new profile  Profile Manager - Create, remove or switch Firefox profiles\n","permalink":"https://hugotkk.github.io/posts/multi-profiles-in-firefox/","summary":"go to about:profile create a new profile  Profile Manager - Create, remove or switch Firefox profiles","title":"Multiple profile in firefox"},{"content":"https://www.youtube.com/watch?v=_MwNgO0aJo0\nhttps://www.youtube.com/watch?v=namlZpQ6W_k\n","permalink":"https://hugotkk.github.io/posts/aws-ground-station/","summary":"https://www.youtube.com/watch?v=_MwNgO0aJo0\nhttps://www.youtube.com/watch?v=namlZpQ6W_k","title":"Aws Ground Station"},{"content":"https://www.youtube.com/watch?v=iwNg_fusT9A\n Copy on Write - copy will not perform immediately only when write operation is happend Snapshot - use the tech of copy on write to save some space. size few bytes to same size as original data  ","permalink":"https://hugotkk.github.io/posts/btrfs/","summary":"https://www.youtube.com/watch?v=iwNg_fusT9A\n Copy on Write - copy will not perform immediately only when write operation is happend Snapshot - use the tech of copy on write to save some space. size few bytes to same size as original data  ","title":"BTRFS"},{"content":"Playlist\nDeployment Strategies Best Practise\nCanary https://octopus.com/docs/deployments/patterns/canary-deployments\n we have a load balancer \u0026amp; n server. deploy the changes on one of the server  Blue / Green https://www.ibm.com/docs/en/urbancode-deploy/6.2.7?topic=processes-modeling-blue-green-rolling-canary-deployments\nRolling ","permalink":"https://hugotkk.github.io/posts/istio/","summary":"Playlist\nDeployment Strategies Best Practise\nCanary https://octopus.com/docs/deployments/patterns/canary-deployments\n we have a load balancer \u0026amp; n server. deploy the changes on one of the server  Blue / Green https://www.ibm.com/docs/en/urbancode-deploy/6.2.7?topic=processes-modeling-blue-green-rolling-canary-deployments\nRolling ","title":"istio"},{"content":"In this post, he wrote a web app to randomly generate the result with QRNG@ANU api.\nIt can generate Quantum random numbers. so interesting\u0026hellip;\n","permalink":"https://hugotkk.github.io/posts/random-numbers/","summary":"In this post, he wrote a web app to randomly generate the result with QRNG@ANU api.\nIt can generate Quantum random numbers. so interesting\u0026hellip;","title":"Random number"},{"content":"https://www.youtube.com/watch?v=tj3F0tX8eyc\n6:26 - 5 steps\nAssess Cloud Economic Assessment (8:20) understand resources needed on-premise (mem, storage, bandwidth)\nPlan  use cloud adoption framework (10:45)  Migrate Cloud Migration Strategies (4:30)   Rehost - create vm on cloud and move application to it\n  Refactor - Containerize\n  Rearchitech \u0026amp; rebuild - Microservice\n  5-week migration process (17:00)  Week T-3 plan Week T-2 build Week T-1 test Week T-0 go migration and cleanup Week T+1 transition  Use azure migrate (17:59) Setup migration Centre of Excellence (CoE) (20:18) Goven \u0026amp; Manage Monitor/ automation Five discipline of cloud governance (21:51) principles on how to manage / goven\nCost management  Bill insight / report  Security baseline  Patch manager Compliance software  Resource consistency  Configuration Management (ansible) Infrastructure as code (terraform) Immutable application(container)  Identity baseline  IAM policy Zero trust approach  Deployment acceleration  Automation tools (scripts, ansible) Pipeline (jenkins)  Optimise Unifycloud - cloud pilot  Static Code Analytics Cost Management App \u0026amp; DB Readiness Migration Effort Estimate  ","permalink":"https://hugotkk.github.io/posts/azure-migration-stragegies/","summary":"https://www.youtube.com/watch?v=tj3F0tX8eyc\n6:26 - 5 steps\nAssess Cloud Economic Assessment (8:20) understand resources needed on-premise (mem, storage, bandwidth)\nPlan  use cloud adoption framework (10:45)  Migrate Cloud Migration Strategies (4:30)   Rehost - create vm on cloud and move application to it\n  Refactor - Containerize\n  Rearchitech \u0026amp; rebuild - Microservice\n  5-week migration process (17:00)  Week T-3 plan Week T-2 build Week T-1 test Week T-0 go migration and cleanup Week T+1 transition  Use azure migrate (17:59) Setup migration Centre of Excellence (CoE) (20:18) Goven \u0026amp; Manage Monitor/ automation Five discipline of cloud governance (21:51) principles on how to manage / goven","title":"Coretek's cloud migration methodology"},{"content":"Playlist\nApache Spark on EKS https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/spark\n","permalink":"https://hugotkk.github.io/posts/spark/","summary":"Playlist\nApache Spark on EKS https://github.com/kubernetes/kubernetes/tree/release-1.3/examples/spark","title":"Spark"},{"content":"https://www.youtube.com/watch?v=LK6KbAlQRIg\n provide a GUI interface manage k8s clusters  Cons (21:12)  Still using docker (should use cri-o) Only support old version k8s (1.18) Mutable approach (not using image to provision, it installs docker and setup the cluster for you) Very slow to create the cluster  Pros  Manage multiple clusters GUI  ","permalink":"https://hugotkk.github.io/posts/rancher/","summary":"https://www.youtube.com/watch?v=LK6KbAlQRIg\n provide a GUI interface manage k8s clusters  Cons (21:12)  Still using docker (should use cri-o) Only support old version k8s (1.18) Mutable approach (not using image to provision, it installs docker and setup the cluster for you) Very slow to create the cluster  Pros  Manage multiple clusters GUI  ","title":"Review of Rancher"},{"content":"https://www.youtube.com/watch?v=mUTGdSA60Ao\n introduction - Cloud Centre of Excellence is a team that can help the organisation for cloud adoption role \u0026amp; responsible characteristic for the team member best practice  Characteristic  driving the organisation forward has ability to stand up - open-minded be confident why and how to do it - clear minded / big picture thinkers diverse and cross-functional  Skill Set  Cost management Project Management (Transparent) Cloud operation engineer (CI/CD) Data engineer (new currency, capture data from IoT, video stream) Application Security (IAM, Policy, Firewall)  Best Practise  Keep passion \u0026amp; excitement Start small (5-7 ppl in a team) Rotate people (training) Communication Scaling and reorganising Think of the failover and backup plan Cloud training for organisation Bill, cost optimization Empower the team (courage them trying new role, new service, bleeding-edge tech) Gain transparency (everyone knows the progress\u0026hellip;why you do that\u0026hellip;)  Notes  cloud makes anything as code -\u0026gt; code makes things more transparent -\u0026gt; the complexity of the project is reduced many jobs can be automated through cloud and they are automatically documented as code is it possible to create a roadmap / resources library for the whole organisation (like AWS workshop)? - everybody can gear up the knowledge through videos / materials follow the framework and make planing\u0026hellip;like scaling\u0026hellip;we can plan it on the first day when starting the business  ","permalink":"https://hugotkk.github.io/posts/cloud-center-of-excellenace/","summary":"https://www.youtube.com/watch?v=mUTGdSA60Ao\n introduction - Cloud Centre of Excellence is a team that can help the organisation for cloud adoption role \u0026amp; responsible characteristic for the team member best practice  Characteristic  driving the organisation forward has ability to stand up - open-minded be confident why and how to do it - clear minded / big picture thinkers diverse and cross-functional  Skill Set  Cost management Project Management (Transparent) Cloud operation engineer (CI/CD) Data engineer (new currency, capture data from IoT, video stream) Application Security (IAM, Policy, Firewall)  Best Practise  Keep passion \u0026amp; excitement Start small (5-7 ppl in a team) Rotate people (training) Communication Scaling and reorganising Think of the failover and backup plan Cloud training for organisation Bill, cost optimization Empower the team (courage them trying new role, new service, bleeding-edge tech) Gain transparency (everyone knows the progress\u0026hellip;why you do that\u0026hellip;)  Notes  cloud makes anything as code -\u0026gt; code makes things more transparent -\u0026gt; the complexity of the project is reduced many jobs can be automated through cloud and they are automatically documented as code is it possible to create a roadmap / resources library for the whole organisation (like AWS workshop)?","title":"A Roadmap to Cloud Centre of Excellence Adoption"},{"content":"Objective  Test if the ec2 can reach 10Gbps bandwidth in same placement group Test if the 10Gbps is the limited by the ec2 instance type or aws  AWS Limit https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-network-bandwidth.html\nin single-flow traffic,\n placement group: 10Gbps w/o placement group: 5Gbps  flow = worker (thread) in the network driver. depends on the ec2 instance type.\nEC2 Instance Type Limit https://aws.amazon.com/ec2/instance-types/m5/\nm5.8xlarge can reach 10Gbps\nSetup Created 3 m5.8xlarge instances which can reach 10Gbps bandwidth each (i use spot)\n 2 in same placement group 1 in other subnet  Tool  iperf (BENCHMARK NETWORK THROUGHPUT)  Test Not in same placement group and parallel 1 [root@ip-172-31-33-28 ~]# iperf -c 172.31.12.68 --parallel -i 2 -t 2 iperf: ignoring extra argument -- 2 ------------------------------------------------------------ Client connecting to 172.31.12.68, TCP port 5001 TCP window size: 812 KByte (default) ------------------------------------------------------------ [ 3] local 172.31.33.28 port 38880 connected with 172.31.12.68 port 5001 [ ID] Interval Transfer Bandwidth [ 3] 0.0- 2.0 sec 1.15 GBytes 4.93 Gbits/sec [root@ip-172-31-33-28 ~]# iperf -c 172.31.12.68 --parallel -i 2 -t 2 iperf: ignoring extra argument -- 2 In same placement group and parallel 1 [root@ip-172-31-7-236 ~]# iperf -c 172.31.12.68 --parallel -i 2 -t 2 iperf: ignoring extra argument -- 2 ------------------------------------------------------------ Client connecting to 172.31.12.68, TCP port 5001 TCP window size: 1.90 MByte (default) ------------------------------------------------------------ [ 3] local 172.31.7.236 port 50544 connected with 172.31.12.68 port 5001 [ ID] Interval Transfer Bandwidth [ 3] 0.0- 2.0 sec 2.22 GBytes 9.54 Gbits/sec Not in same placement group and parallel 2 [root@ip-172-31-7-236 ~]# iperf -c 172.31.12.68 --parallel 2 -i 1 -t 2 ------------------------------------------------------------ Client connecting to 172.31.12.68, TCP port 5001 TCP window size: 2.00 MByte (default) ------------------------------------------------------------ [ 4] local 172.31.7.236 port 50538 connected with 172.31.12.68 port 5001 [ 3] local 172.31.7.236 port 50536 connected with 172.31.12.68 port 5001 [ ID] Interval Transfer Bandwidth [ 4] 0.0- 1.0 sec 603 MBytes 5.06 Gbits/sec [ 3] 0.0- 1.0 sec 585 MBytes 4.91 Gbits/sec [SUM] 0.0- 1.0 sec 1.16 GBytes 9.96 Gbits/sec [ 4] 1.0- 2.0 sec 604 MBytes 5.07 Gbits/sec [ 4] 0.0- 2.0 sec 1.18 GBytes 5.06 Gbits/sec [ 3] 1.0- 2.0 sec 579 MBytes 4.85 Gbits/sec [SUM] 1.0- 2.0 sec 1.16 GBytes 9.92 Gbits/sec [ 3] 0.0- 2.0 sec 1.14 GBytes 4.88 Gbits/sec [SUM] 0.0- 2.0 sec 2.32 GBytes 9.94 Gbits/sec Outcome w/i the placement group    Flow Bandwidth/Flow Bandwidth     1 10Gbps 10Gbps   2 5Gbps 10Gbps    we can use up all m5.8xlarge\u0026rsquo;s bandwidth in a single-flow traffic.\nBut the traffic splits 50%,50% in double-flow traffic.\nTherefore, 10Gbps is the max bandwidth of the m5.8xlarge.\noutside the placement group    Flow Bandwidth/Flow Bandwidth     1 5Gbps 5Gbps   2 5Gbps 10Gbps    we need two flows to use up all m5.8xlarge\u0026rsquo;s bandwidth (5Gbps, 5Gbps)\nso it reaches the limit of AWS\u0026hellip;\n","permalink":"https://hugotkk.github.io/posts/bandwidth-test/","summary":"Objective  Test if the ec2 can reach 10Gbps bandwidth in same placement group Test if the 10Gbps is the limited by the ec2 instance type or aws  AWS Limit https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-network-bandwidth.html\nin single-flow traffic,\n placement group: 10Gbps w/o placement group: 5Gbps  flow = worker (thread) in the network driver. depends on the ec2 instance type.\nEC2 Instance Type Limit https://aws.amazon.com/ec2/instance-types/m5/\nm5.8xlarge can reach 10Gbps\nSetup Created 3 m5.","title":"EC2 Bandwidth test"},{"content":"I found this markdown software when watching this video\nI am interested in that map and think if I can organise my markdown notes with it.\nTutorials How To Use VIM Bindings in Obsidian | Beginners Guide https://www.youtube.com/watch?v=yX_Qdr9-7k\nI Tried Obsidian Note Taking for a Week\u0026hellip; (MD App Review, Tips, Features, Guide, and Setup) https://www.youtube.com/watch?v=TDhTpPIjsDg\n most of the features do not attract to me Will prefer organising the notes with tags not folder Spacemacs is better for editing. Happy with marco, fuzzy file searching, find and replace, vim keybinding and git Template function (like marco) Use to preview and visualise my notes but not editing Graph view support tags to virtualize the notes so no need to refactor my Hugo notes (Graph View \u0026gt; Filters \u0026gt; Tags)  ","permalink":"https://hugotkk.github.io/posts/obsidian/","summary":"I found this markdown software when watching this video\nI am interested in that map and think if I can organise my markdown notes with it.\nTutorials How To Use VIM Bindings in Obsidian | Beginners Guide https://www.youtube.com/watch?v=yX_Qdr9-7k\nI Tried Obsidian Note Taking for a Week\u0026hellip; (MD App Review, Tips, Features, Guide, and Setup) https://www.youtube.com/watch?v=TDhTpPIjsDg\n most of the features do not attract to me Will prefer organising the notes with tags not folder Spacemacs is better for editing.","title":"Obsidian"},{"content":"https://www.youtube.com/watch?v=1I1vxu5qIUM\nTransmit an electromagnetic wave (binary) with different wavelength\neg: 121mm = 1 124mm = 0\nthe waves send in all directions\nBluetooth range: 2.4835GHz - 2.4GHz\nDivided in different sections (79 channels), each section has a pair of wavelengths representing 0 and 1\nthe bluetooth range is shared with some other device like a microwave oven\nlike the power of a microwave oven is too large for bluetooth.\nit may destroy the bluetooth device if you put them inside the microwave oven (danger)\nData Integrity Packet  Access Codes (72 bits) Header (54bits) Payload (vary, depends on the function)  Frequency Hopping Two bluetooth devices will have a set of channels to send data\nThey will change the channels frequently\nError Detection Noise Filtering Data Transmit Frequency Shift Keying carrier wave adjusts the wavelength to send 0 and 1\nPhase Shift Keying constant wavelength and attitude\nuse the wave function to determine 0 and 1 (like sin x = 0, cos x = 1, instead of A sin x and B sin X)\n","permalink":"https://hugotkk.github.io/posts/bluetooth/","summary":"https://www.youtube.com/watch?v=1I1vxu5qIUM\nTransmit an electromagnetic wave (binary) with different wavelength\neg: 121mm = 1 124mm = 0\nthe waves send in all directions\nBluetooth range: 2.4835GHz - 2.4GHz\nDivided in different sections (79 channels), each section has a pair of wavelengths representing 0 and 1\nthe bluetooth range is shared with some other device like a microwave oven\nlike the power of a microwave oven is too large for bluetooth.\nit may destroy the bluetooth device if you put them inside the microwave oven (danger)","title":"Bluetooth"},{"content":"Upgradable contract https://www.youtube.com/watch?v=kWUDTZhxKZI\u0026amp;list=WL\u0026amp;index=19\nproxy pattern user interact with the proxy contract\nthe proxy will point to another smart contract\nWhen upgrading the contract, the admin of the proxy contract points the proxy to another smart contract storage\nImplementation  Transparent UUPS  ","permalink":"https://hugotkk.github.io/posts/openzeppelin/","summary":"Upgradable contract https://www.youtube.com/watch?v=kWUDTZhxKZI\u0026amp;list=WL\u0026amp;index=19\nproxy pattern user interact with the proxy contract\nthe proxy will point to another smart contract\nWhen upgrading the contract, the admin of the proxy contract points the proxy to another smart contract storage\nImplementation  Transparent UUPS  ","title":"OpenZeppelin"},{"content":"Zero to Full-Time Programmer in 5 Steps Zero to Full-Time Programmer in 5 Steps\n start from small consistently study every day  The scoreboard that is changing my life The scoreboard that is changing my life\n  use scoreboard to track your goal\n  goal vs actual\n  Weekly review (like a logbook)\n  lagging metric (review past performance)\n  leading metric (measure future performance)\n  How I consistently study with a full time job https://www.youtube.com/watch?v=INymz5VwLmk\n the key is consistency, motivation doesn\u0026rsquo;t last long (always show up, always try) keep tracking the process  ME  small step every day never being late, start today If you feel hesitating, then just start it do not need to make things perfect or well-prepared to start on something  Archive Goal https://www.youtube.com/watch?v=gHSh1O1HUqA\n Find the way out instead of focusing on the obstacle  About the dream job https://www.youtube.com/watch?v=mtgt1ElOo0U\n no dream job but can make your own dream career  【上篇】背單字絕不要○○！會20種語言的達人分享如何儘早擺脫初級階段！Feat. Steve Kaufmann先生 【外文學習法】 日本人Haru老師【#51】日語發音，全程中文字幕 https://www.youtube.com/watch?v=aBjZHomO2N0\n accept the fact that you will forget what you learn  Stanford Engineering Hero Lecture: Morris Chang in conversation with President John L. Hennessy https://www.youtube.com/watch?v=wEh3ZgbvBrE\n learn and think if you don\u0026rsquo;t learn, you have nothing to think  《領航者Visionaries》張忠謀 Morris Chang (II)：我不以輝煌作為人生目標 https://www.youtube.com/watch?v=AYUBSr3Wons\n Lifelong Learning systematically  ","permalink":"https://hugotkk.github.io/posts/idea-about-study/","summary":"Zero to Full-Time Programmer in 5 Steps Zero to Full-Time Programmer in 5 Steps\n start from small consistently study every day  The scoreboard that is changing my life The scoreboard that is changing my life\n  use scoreboard to track your goal\n  goal vs actual\n  Weekly review (like a logbook)\n  lagging metric (review past performance)\n  leading metric (measure future performance)","title":"Study Tips"},{"content":"https://www.youtube.com/watch?v=j_j2MiAxUvY\u0026amp;list=PL0MZ85B_96CEmmy0C6NF52ZCMNcY1Wryf\nMethods Wait until the transaction is completely settled not practical and safe\nHashlock The transaction is partially complete\nSettle once the sender publishes the key on the blockchain.\nCons  hugo cannot refund if kevin does not response  Timelock  hugo made a partial transaction that the btc can be claimed by kevin within n number of blocks if the transaction is expired, hugo can claim back the fund  Cons  the claims need to execute manually  HTLC (Hash Time Lock Contract) Combine two locks: (and)\n claim within n number of blocks the key is revealed on the blockchain  Steps in a cross chain swap Timestamp: 55:36\nExample: btc -\u0026gt; eth swap from hugo to kevin\nassume that Hugo has a key (secret that only Hugo will know) 1234 with hash 4567\nHugo and Kevin will not make transactions directly\nThey will send the fund to the contract instead\nTHe contract will hold the eth and btc for Hugo and Kevin\nThere are 2 separate contracts\n  one is in btc (let\u0026rsquo;s say Contract A)\n  the other is in eth (let\u0026rsquo;s say Contract B)\n  hugo sent btc to the Contract A in btc network\n  Transaction:\n   Field Value     From hugo   Value 10btc   To kevin   Hash 4567     Kevin sent eth to the Contract B in eth network     Field Value     From kevin   Value 134eth   To hugo   hash 9876     Hugo observed that kevin has funded eth to Contract B. then he will submit his key 1234 in btc network, btc send to kevin by the Contract A same as kevin, he submits his key 9876 in eth network, eth sent to hugo by the Contract B  Problem  semi-trusted  we assume Hugo and Kevin can see each other on each chain if the access right is changed during the transaction\u0026hellip;let say hugo can revoke kevin on eth network..then the transaction fails (this happens on hyperledger as it can have access control but it is not possible on btc and eth)    ","permalink":"https://hugotkk.github.io/posts/cross-chain-swap/","summary":"https://www.youtube.com/watch?v=j_j2MiAxUvY\u0026amp;list=PL0MZ85B_96CEmmy0C6NF52ZCMNcY1Wryf\nMethods Wait until the transaction is completely settled not practical and safe\nHashlock The transaction is partially complete\nSettle once the sender publishes the key on the blockchain.\nCons  hugo cannot refund if kevin does not response  Timelock  hugo made a partial transaction that the btc can be claimed by kevin within n number of blocks if the transaction is expired, hugo can claim back the fund  Cons  the claims need to execute manually  HTLC (Hash Time Lock Contract) Combine two locks: (and)","title":"Atomic cross chain swap between Hyperledger Fabric and Ethereum"},{"content":"Building BLOCKCHAIN Apps With HYPERLEDGER COMPOSER https://www.youtube.com/watch?v=gAxK6zYrfxI\na framework of hyperledger\n testing - mocha / chai webapp generator - Yeoman api generation - Rest Server + loopback api doc generation - swagger auth (rest api) - passport integration with IOT - red-node  ","permalink":"https://hugotkk.github.io/posts/hyperledger-composer/","summary":"Building BLOCKCHAIN Apps With HYPERLEDGER COMPOSER https://www.youtube.com/watch?v=gAxK6zYrfxI\na framework of hyperledger\n testing - mocha / chai webapp generator - Yeoman api generation - Rest Server + loopback api doc generation - swagger auth (rest api) - passport integration with IOT - red-node  ","title":"Hyperledger composer"},{"content":"Official Website\nPlaylist\na visual editor to build workflow and ui application to interact with IoT\n wire the IoTs and user (with web dashboard) read data from IoT write data to IoT (control it, on and off etc) build a flow among IoTs and users for automation build dashboard UI  all can be done by drag and drop\ncan be used with blockchain in the supply chain\u0026hellip;\nnode red pulls the data from sensors and submits to blockchain automatically\nUse cases Temperature monitor dashboard  listen to any data sent from the thermometer show the temperature on the dashboard  Light switcher  send switch on and off signal to the light bulb through dashboard  Automation (like IFFF and Apple Shortcut but in the IoT version)  monitoring the environment with sensors (like humidity and temperature) trigger other IoT (like turn on the washing machine)  Water Utility (SCADA) https://www.youtube.com/watch?v=FCfmWnxQkoc\n tanks and bump bump water from the well to task 1 and then bump to tank 2 alert when the tank reaches the critical level  MQTT lightweight network protocol for IoT\n How to Get Started with MQTT What is an MQTT Broker Clearly Explained  Basic Concept  IoTs subscribe to specific topic workshop/switch in MQTT Broker user publish workshop/switch to MQTT broker (via red node) IoTs receive the data from the MQTT broker and react to it (eg: turn on the switch\u0026hellip;)  MQTT Broker Open source MQTT broker: Eclipse Mosquitto\nbidirectional protocol subscribe and publish at the same time in the same IoTs\nTLS Basic authentication CERT failover / backup retained message When adding a new device, the value is empty as no subscribed topic is sending data. this feature will fill it with the last record\npersistent session when IoT disconnected to the broker\n no need to resubscribe the topic automatically connect back to the broker with network connection back  Client status IoT sends birth death discount message when connected to broker\n When the connection is established, the broker sends a birth message to a set of topic\u0026rsquo;s subscribers There is a keep-alive timer at the broker. Broker will ping the device periodically to ensure the device is alive If the keep -alive timer is timeout, the broker will send a death message to the topic\u0026rsquo;s subscribers  Also, red-node can ping the IoTs to check their status. publish the status of IoT topic when it is connected or disconnected or unexpected disconnected\nMQTT.fx = software to publish / subscribe to the broker\nwith PI https://www.youtube.com/watch?v=WxUTYzxIDns\n mentions MQTT broker but does not mention how to setup node-red is installed on the pi itself, and sends a message to the pin directly to control the light bulb  video does not tell  how to setup the MQTT (send data to a specific topic to the broker) how to receive data from the device without MQTT (he just shows how to control the light bulb)  MQTT client setup PI https://www.youtube.com/watch?v=WxUTYzxIDns\n install MQTT client connect to the MQTT server publish all events to the MQTT service with a specific topic (need to write code)  Device with preinstalled software https://www.youtube.com/watch?v=KqHVkUiPRzc\nThis is not using node-red but the concept is same\n just enable MQTT function  How to capture MQTT data from device at node-red  listen to all topics from MQTT and capture it to debug node trigger the event to send out (eg: clicking the wifi button) / wait for the device to publish a message to the topic (thermometer) find out the payload and topic name  Enterpise Case study  How to Build Massive IoT with Klika Tech, Wirepas and AWS Building an End-to-End Industrial IoT (IIoT) Solution with AWS IoT - AWS Online Tech Talks  Use case  tracking the temperature, humidity, vibration in shipping pro-logistics: open the container door, turn on and turn off the light.. control the lighting track which the conference room is used locate things in office / warehouse  Flow   IoTs\n  gateways\n  MQTT Broker (aggregate all data)\n user application wirepas network tools backend    wirepas FW (RuuviTag)\n  wirepas snap\n  (AWS) wirepas service (WNT, WPE) (Dashboard) / Greengrass snap (Like Red-Node)\n  AWS IoT SiteWise \u0026amp; AWS IoT Greengrass (Depends on the device manufactory)\n OnLogic Moxa  greengrass\naccess point for the IoTs to send data to AWS\nAWS IoT Message Broker AWS version of MQTT\nAWS IoT Device Management IoT version of System Manager\n bulk registration Patching Monitor the health / Search Integration with analytics tools  Wireless mesh network with asset tracking on site  building gateways on site to let the IoTs can send data to cloud (SiteWise) the message can be repeated (extended) once they cover each other (that is why it is called a mesh network) 700000 devices in one mesh network cover Oslo ROI -\u0026gt; look at the maintanese and analytics and delivery  RuuviTag   Pressure\n  Temperature\n  Humidity\n  Accelerometer\n  Location\n  I2C / SPI\n  Steps  Build SiteWise Assets / Model Build SiteWise Gateway (connect with KEPServerEX) Portal -\u0026gt; SiteWise Montior -\u0026gt; Create Projects IoT Core set a rule (How to process the data) to send data to analytics in analaytics there is a channel created -\u0026gt; use pipeline to pass the raw data to lamda and process the raw data -\u0026gt; store the processed data to data store -\u0026gt; create (SQL / Container custom code) in data sets and consumer in IoT Events (Detector model)  ","permalink":"https://hugotkk.github.io/posts/node-red/","summary":"Official Website\nPlaylist\na visual editor to build workflow and ui application to interact with IoT\n wire the IoTs and user (with web dashboard) read data from IoT write data to IoT (control it, on and off etc) build a flow among IoTs and users for automation build dashboard UI  all can be done by drag and drop\ncan be used with blockchain in the supply chain\u0026hellip;\nnode red pulls the data from sensors and submits to blockchain automatically","title":"Node Red"},{"content":"Day1 Setup  https://www.eksworkshop.com/020_prerequisites/ec2instance https://www.eksworkshop.com/030_eksctl/launcheks https://www.eksworkshop.com/beginner/060_helm/helm_intro/install  Tasks  Deploy simple application Fargate  Notes There are 2 modes in EKS:\n EC2 Fargate  They can coexist in EKS.\nAlso we can only fargate only. When we deploy plugins to the cluster, It will be deployed to the control panel. (hidden from user)\nHow to use fargate in EKS:  create a fargate profile which is associated with a namespace deploy yml to that namespace  Pros and Con of fargate can be scaled up quickly  it is a micro vm as similar as pod one fargate instance per pod  lower cost of fargate  Fargate will be cheaper in some situations. no need to rent large ec2 instance. it is good if you are doing batch jobs with EKS no need to maintain the ec2 instance (patch it, upgrade the kubelet)  not well integrate with other AWS services like efs?\u0026hellip;need to further study on it.\nDay3 Tasks  https://www.eksworkshop.com/intermediate/245_x-ray/microservices https://www.eksworkshop.com/intermediate/246_monitoring_amp_amg https://www.eksworkshop.com/intermediate/250_cloudwatch_container_insights https://www.eksworkshop.com/beginner/170_statefulset https://www.eksworkshop.com/beginner/190_efs  Alternative of argo  https://www.eksworkshop.com/intermediate/260_weave_flux https://www.eksworkshop.com/intermediate/220_codepipeline  ","permalink":"https://hugotkk.github.io/posts/aws-workshop/","summary":"Day1 Setup  https://www.eksworkshop.com/020_prerequisites/ec2instance https://www.eksworkshop.com/030_eksctl/launcheks https://www.eksworkshop.com/beginner/060_helm/helm_intro/install  Tasks  Deploy simple application Fargate  Notes There are 2 modes in EKS:\n EC2 Fargate  They can coexist in EKS.\nAlso we can only fargate only. When we deploy plugins to the cluster, It will be deployed to the control panel. (hidden from user)\nHow to use fargate in EKS:  create a fargate profile which is associated with a namespace deploy yml to that namespace  Pros and Con of fargate can be scaled up quickly  it is a micro vm as similar as pod one fargate instance per pod  lower cost of fargate  Fargate will be cheaper in some situations.","title":"AWS EKS Workshop"},{"content":"Pros with AWS Managed Blockchain  no need to build the ledger by themself focus on the smart contract a single blockchain network can effectively work cross multiple parties  An Overview on Blockchain Services from AWS https://www.youtube.com/watch?v=WAIOBeQA2QQ\n ledger database (immutable transaction) consenus decentlization smart contract ease for audit  Hyperledger Fabric VS eth  authentication access control private ledger  ","permalink":"https://hugotkk.github.io/posts/aws-managed-blockchain/","summary":"Pros with AWS Managed Blockchain  no need to build the ledger by themself focus on the smart contract a single blockchain network can effectively work cross multiple parties  An Overview on Blockchain Services from AWS https://www.youtube.com/watch?v=WAIOBeQA2QQ\n ledger database (immutable transaction) consenus decentlization smart contract ease for audit  Hyperledger Fabric VS eth  authentication access control private ledger  ","title":"AWS Managed Blockchain"},{"content":"Control Panel Fee  AKS: 0 EKS: fixed charge 0.1 USD / Hour  Integration I think AKS is better, most of the provisioning plugins can be enabled by one click\nIn aws, you need to\n install plugins setup iam service account for the plugins to access AWS service  application routing For AKS,\n it is just an checkbox option  For EKS, you need to\n setup IAM OICD setup external dns setup ALB contrller  auto scaler Same as application routing -\u0026gt; auto scaler. enable and use\nin AWS, we need to setup cluster autoscaler\nvolume provisioning AKS supports volume provisioning with Azure File (EFS) \u0026amp; Azure Disk (EBS), it has many pre-defined volume class\u0026hellip;we do not need to install any plugin\nFor EKS, we need CSI driver\n ebs efs  Virtual node It is AKS things, like EKS\u0026rsquo;s fargate\u0026hellip;but I cannot find the price..\n2021-12-10 updates: I have asked on Microsoft Q\u0026amp;A: https://docs.microsoft.com/en-us/answers/questions/659456/price-of-ake-virtual-node-and-aks-without-node-poo.html\n need min 1 system node group can start / stop the cluster the VM will stop charging when the cluster is stop charge of other provisioned services like LB and Azure File are unknown\u0026hellip; virtual node will charge as container service (like fargate)  ","permalink":"https://hugotkk.github.io/posts/eks-vs-aks/","summary":"Control Panel Fee  AKS: 0 EKS: fixed charge 0.1 USD / Hour  Integration I think AKS is better, most of the provisioning plugins can be enabled by one click\nIn aws, you need to\n install plugins setup iam service account for the plugins to access AWS service  application routing For AKS,\n it is just an checkbox option  For EKS, you need to\n setup IAM OICD setup external dns setup ALB contrller  auto scaler Same as application routing -\u0026gt; auto scaler.","title":"EKS vs AKS"},{"content":"Installation https://hyperledger-fabric.readthedocs.io/en/release-2.2/install.html node go docker fabric fabric-ca third party image: kafka, zookeeper, couchdb fabric-ca-binary\n","permalink":"https://hugotkk.github.io/posts/hyperledger-fabric/","summary":"Installation https://hyperledger-fabric.readthedocs.io/en/release-2.2/install.html node go docker fabric fabric-ca third party image: kafka, zookeeper, couchdb fabric-ca-binary","title":"Hyperledger fabric"},{"content":"https://youtu.be/TgsTCzLRQcs?t=1905\nMay You Stay Forever Young Taipei golden horse film festival 2021\nTrailer\n two girls arrested in 721 one sexuel abused by HK police force and try to commit suicide another young teanager insists on looking for her. She is arrested as she turns back to him in a confrontation with riot police  Revolution of Our Times IMDB\nTrailer\nConnection with mashipo How an elderly Hong Kong pro-democracy protester also fought in vain to save his village from developers\n Wong understands people because he has confronted the government before in Mashipo young people help them to protect his home in mashipo\u0026hellip;so he thinks he has responsibility to protect them back  The FA , who praises the police force, let him enter the Prince Edward station at 831  still a high school student have dramatic changes after 831 (become negative\u0026hellip;) interview with his teacher and classmate  Protector stayed in Legislative Council  a girl who said 齊上齊落(all together not one less), turn back bring people out from the council ppl should participate more\u0026hellip;not just support them\u0026hellip; HK is not important; HKER is more important TW use 40 years to have democracy - need patient Repressed anger as it does not help  Interview with people who is already in prison or left HK  Ho Kwai-lam  Aerial photography - protest confront with riot police at MongKok  what is “be water”  Drifting Petals Taipei golden horse film festival 2021\nTrailer\n","permalink":"https://hugotkk.github.io/posts/movies-about-hk/","summary":"https://youtu.be/TgsTCzLRQcs?t=1905\nMay You Stay Forever Young Taipei golden horse film festival 2021\nTrailer\n two girls arrested in 721 one sexuel abused by HK police force and try to commit suicide another young teanager insists on looking for her. She is arrested as she turns back to him in a confrontation with riot police  Revolution of Our Times IMDB\nTrailer\nConnection with mashipo How an elderly Hong Kong pro-democracy protester also fought in vain to save his village from developers","title":"Movies about Hong Kong"},{"content":"Resources  Exam Landing Page Sample Questions Exam Guide udemy course udemy mock exam whizlabs test \u0026amp; hand-on labs  TODO  take notes revision whizlabs mocks (by topic) mock 1 (udemy) mock 2,3,4 (whizlabs) examtopic udemy quiz + exercise  Revision The numbers below are the page no of the udemy course\u0026rsquo;s pdf: AWS Certified Networking Specialty Slides v1.1.\nSummary  DNS (151) Advanced Networking (188) VPC Endpoint (292, 298) Site-to-site VPN (347, 401, 407) VPN Tunnels and Routing (348, 352) DX Gateway with VGW (532) DX with TGW (547) DX Billing (624) DX (630) Troubleshooting in DX (626) Gateway Load Balancer (816)  Q \u0026amp; A  ALB (677) DX (625)  Good to know  SG (46) BYOIP (90) VPC Traffic Mirroring (105) DHCP Option Sets (124) TGW (251) AWS Site-to-Site VPN (403) Network Load Balancer (656)  Comparisons  private, public and EIP (33) IPv4, IPv6 (36) NACL, SG (48) NAT Gateway, Instance (64) VPC Peering vs Transit Gateway Cloudfront function vs lambda@edge (703) AWS global accelerator vs Cloudfront (711)  Exam Essential  VPC Fundamentals (67) Advanced VPC (190) VPC Peering Endpoint (301) AWs Site-to-Site VPN (402) Direct Connect (632) Firewall (806) Gateway Load Balancer (817)  Revision by topic Playlists  global accelerator api gateway client vpn cloudformation cloudfront cloudwatch cloudhsm cognito config dx edge computing elb firehose guarduty inspector lambda organization route53 s3 sqs ssm vpc vpn waf workspace  References  accelerator - custom routing accelerator - custom routing alb - limit request to clondfront only aurora - regional failover aws organization - SCP cloudfront - origin types cloudfront - signed url vs signed cookies cloudfront - troubleshooting cloudfront - will forward the response when first byte arrives from the origin cloudhsm - auto ha cloudtrail - 5 trails for region cloudtrail - log encryption with KMS cloudtrail - use integrity validation to check the log was modified, delete or change cloudwatch - namespace valid characters cloudwatch - no need to config sns to provide data every minute cloudwatch - skip metrics config - managed rules config - renaming the delivery channel config - requirements config - type of triggers config - viewing configuration compliance costs model costs model 2 dhcp - cannot modify and one vpc one dhcp options dx - dx in public regions can access any other public region dx - faq dx - lag requirement 1 dx - lag requirement 2 dx - public vif dx - public vif connectivity dx - quotas dx - requirements for virtual interfaces dx - vif dx - virtual Interfaces to Direct Connect connections or LAG bundles dx - vpn as backup ec2 - http proxy ec2 - network performance ec2 - retrieve instance metadata eip - hostname will be changed once eip attached eip - public ip change every time stop and start the instance eip - public ip will be released once eip attached eip - reverse dns record for mailserver eni - limitation flow log local zone - alb limitation local zone - supported service ms ad - limitation - not compatible with exchange and skype ms ad - requirements nacl - default rule# in nacl nat - need egress-only-internet-gateway for ipv6 to ipv6 commnuication nat - only support tcp udp and icmp nat - pricing nat - tcp connectin fail as tcp does not support ip fragmentation placement group - can add / move / remove instance from group placement group - can launch with diff instance type but not recommended placement group - can span vpcs placement group - cannot merge placement group placement group - stop and start is fine but may have insufficient capacity error without capacity reservation quicksight - private connection with rds redishift - private connectivity with enhanced vpc routing route53 - a/p failover route53 - aws services which support alias records route53 - can attach private hosted zone with overlapping namespace in same vpc route53 - dns resolution b/w on-premise and aws with ad route53 - dns server with custom domain (white-labe and reusable delegation set) route53 - health check rules route53 - system rules when forwarding less specific domain simple ad - requirement sns tgw - peering tgw - quotas tgw - route table priority vpc - aws cidr tier vpc - aws does not support broadcast in vpc vpc - ipv4 subnet cidr prefix vpc - ipv6 subnet cidr prefix vpc - jumbo frame packet drop as Don't Fragment flag is set but the network does not support higher MTU vpc - multicast support vpc - reserved address in cidr vpc - route table qutoa vpc - route table troubleshoot vpc - usage of enableDnsHostnames and enableDnsSupport vpce - service endpoint support ipv4 over tcp only vpce - tagging is suported vpce - use prefix list in security group vpn - ipv6 support on tgw but not vgw vpn - static route a/p mode (priority) vpn - troubleshooting vpn - why cannot overlap the cidr vpn -ipsec encryption algorithms waf - config count action to test (monitor mode) waf - rule statement list workspaces - requirements appliance in shared vpc cloudhub mult vpc with single customer gateway multi-vpc network infrastructure route table options shared vpc transit vpc Virtual Private Cloud Connectivity Options vpc peering with cidr overlap vpc with subnet overlapping  VPC Fundamentals (17) What is TCP/IP?  Answer  application (data) transport (segment) network (packet) link (frame) physical (frame)  What is OSI? (306) Answer application presentation session transport network link physical  #### How to calculate the no of address in a CIDR (like 192.168.0.1/28)? (18) Answer 2^(32-28)=16  Can we override the main route table in VPC? (26) Answer override it at subnet level  Which IPs are reserved for a vpc? (29) Answer 5\n0=network 1=router 2=dns 3=reserved last=broadcast  What is the default behaviour of SG (inbound and outbound)? (46) Answer inbound: block all outbound: allow all  How is the NAT gateway charged? (59) Answer hourly charge data transfer fee  Can we apply SG on a NAT gateway? (59) Answer no  What is the port range NAT gateway needs for outbound connection? (59) Answer 1024-65535  Why don\u0026rsquo;t we need cross-AZ failover in NAT ? (62) Answer because if az down, nat and app are down too  What is the most important setting to setup NAT with EC2? (63) Answer disable the source and destination check  Advanced VPC (72) What is the limitation of adding a secondary CIDR? (79) Answer aws defines cidr in 3 classes. 172 169 10192.168 172.16 10.0 if the primary cidr is in one of the classes, the secondary cidr must be in the same class or not in any class with an equal / more specific prefix if the primary cidr is not in one of the class, the secondary cidr must not in any class with equal / more specific prefix 5ipv4 1ipv6  How many private, public and elastic ip and sg can one ENI have? (81, 85) Answer private - depends on the instance type public - 1 elastic - 11 eip per private ip  What is the use case of dual home setup with multiple ENIs? (84) Answer 1 eni for internal traffic 1 eni for internet traffic  What are the prerequisites of BYOIP? (89, 90) Answer you should own that ip ip should have a good record each account can bring 5 ips (ipv4 \u0026 ipv6) ROA ipv4: /24; ipv6: /48 pub; /56 pri  What type of Flow Logs can we capture from a VPC? (92) Answer vpc subnet eni  Where does the Flow Logs Action field come from? (97) Answer security group / nacl  What type of record cannot be captured in a flow log? (98) Answer traffic from aws dns / metadata dhcp, windows licence activation server  What can be the source \u0026amp; target of a VPC Traffic Mirror? (102, 105) Answer source: eni target: eni, nlb  What port does the VPC Traffic Mirror require? (105) Answer udp 4789  How to set a custom domain / dns on an EC2 instance? (113) Answer change the dhcp-option  VPC DNS and DHCP What does enableDNSSupport do? (117) Answer resolve the dns  What does enableDNSHostname do? (117) Answer assign hostname to the ec2 instance  How to resolve the hostname in VPC peering and TGW? (132) Answer enable dns support  How to resolve the hostname in Hybrid cloud (AWS to on-premise, on-premise to AWS) (old \u0026amp; new way)? (132-150) Answer old:\naws - on-premise: setup ad / dns server on aws; set dhcp to that server; forward query to that server in on-premise dns on-premise - aws: setup ad / dns server on aws; use that server in on-premise new: aws - on-premise: setup outbound endpoint to on-premise dns, set forward rule to that endpoint  on-premise - aws: setup inbound endpoint, forward query to that endpoint in on-premise dns  VPC Network Performance and Optimization Formula of throughput (154) What is Jumbo frame? (154) Answer MTU  1500 (9001 / 8500)  What is Path MTU Discovery? (155) Answer check the max MTU support between 2 routes  What are the advantages of using placement group - cluster (162) Answer low latency higher bandwidth  What is the bandwidth limitation between VPC, EC2 instances, VPN and DX (179-183)? Answer vpc = 100% to igw / other region = 50% ec2 = 5gbps 10gbps (placement group) single flow vpn (tgw) 1.25gbps per tunnel and sum up to 25gbps vpn (vgw) 1.25gbps dx (vgw/tgw) = 1/10/100gbps  VPC Peering What is the limitation of VPC Peering? (207) Answer non-transitive cannot access igw, nat, vpn, peer, gateway endpoint  TGW What is the difference between vgw and tgw? (211) Answer vgw is non-transitive cannot access igw, nat, vpn, peer, gateway endpoint  what attachments does TGW support? (211) Answer vpn vpc tgw dxgw  What is the special route in TGW? (230) Answer custom route table for each tgw attachment  VPC Endpoint How many types of VPC endpoint? What is the difference between them? (258) Answer interface = has eni attached gateway = use route table private link = attach to alb or nlb all has vpc endpoint policy  Can on-premises network access to the gateway endpoint with VPN/DX? (273) Answer no  What kind of source can be used in a private link? (281) Answer nlb and alb  How to use hostname in interface endpoint? (288) Answer enable private dns  How to use the interface endpoint without private DNS? (290) Answer use the dns name with \"region\"  When should we use a private link? When should we use VPC Peering (297) Answer Many clients need to access the service from different accounts (125) use peering when there are many services that need to be accessed  AWS Site-to-Site VPN What port does IPsec need? (309) Answer udp/500  Range of public and private ASN (313) Answer 0-65525 64512-65534  4 common BGP Param for routing (319) Answer weight as_path med local-preference  What type of VPN does AWS support Site-to-Site VPN? (327) Answer ipsec  What routing method does AWS support in Site-to-Site VPN? (329) Answer bgp / static  What port is required in VPN for NAT-T? (335) Answer udp/4500  VPN Tunnels and Routing How to set Active/Active tunnel (351) Answer advertise the same prefix. use BGP and ECMP for load balancing advertise diff prefix. more specific prefixes will be prefered or use AS_PATH or MED to control the traffic from aws  What is DPD? Port to send messages? default timeout? timeout action? (354) Answer dead peer detection. detect the dead peer tunnel. 30s. action: clear, restart, none  How to prevent a tunnel from terminating due to inactivity (355) Answer ping the aws network each 5 seconds to prevent idle tunnel  How to monitor the tunnel status? (357) Answer set alarm with cloudwatch metrics  DX What is the fibre mode of DX? (450) Answer single  what is the data link requirement of DX (450) Answer fibre 802.1vlan LX  What are the requirements for a customer router? (450) Answer bgp  What is the port of BGP? (457) Answer 179/tcp  What is BFD? How to enable it? (458) Answer auto failover dx is enabled by default. enable it on the customer router lower the failure detection time  How long does it take for failover with and without BFD? (458, 597, 598) Answer 300ms * 3times = 1s default 30s * 3 = 90s; DPD = method to detect the failure (for ipsec+bgp). BFD = method to lower the failure detection (for bgp)  How can a user whitelist the ips range from AWS? (459) Answer whitelist the ip in ip-range.json  How many VIF can a hosted connection have? (465) Answer 1  What Ip type does DX support? (498) Answer ipv4 and ipv6  How many route prefixes can the public vif advertise? (503) Answer 1000  How many route prefixes can a private vif advertise? (507) Answer 100  What is the limitation of vif and vgw location? (507) Answer in the same region  What service cannot access inside a VPC with DX? (510) Answer nat, nat + igw, peered vpc, gateway endpoint ,dns  What is the usage of DX gateway? (517) Answer connect dx and vpc in any regions (pri/transit vif)  How many vif can a DX connection have? (526) Answer 50(pub + pri)  How many transit vif can a DX connection have? (547) Answer 1(transit)  How many DX gateways can a vif have? (530) Answer 1  How many vif can a DX gateway connect to? (530) Answer 30  How many vgw can a DX gateway have? (526,547) Answer 10  How many tgw can a Dx gateway have? (538) Answer 3  What is the charge for using Dx gateway? (533) Answer no  How many routes can be advised per TGW through the DX gateway? (539) Answer 100 (bgp)  what is ECMP (251, 556) - only support BGP Answer load balancing between different dx connection the same dx location  how to setup Active-Active with public vif and public ASN (554, 558) Answer advertise same prefix route use ECMP (by aws)  how to setup Active-Active with private vif and public ASN (558) Answer no  how to setup Active-Passive with public vif and public ASN (561) Answer advertise same prefix route as_path / med for incoming traffic to aws local-pref for outgoing traffic to aws  how to setup Active-Passive with public vif and public ASN (561) Answer advertise more specific prefix route  how to constrain the adviser routes to on-premises with public vif (567) Answer on-premises routes advertise the bgp communities to ask aws to advertise specific routes only (region / inter-region / global)  how to filter the adviser routes from aws in on-premises with public vif (567) Answer based on the bgp communities from aws. it tells where the route comes from  what is the routing policy with private vif (577, 582) Answer advise more specific route  bgp: as_path / med or local preference (same dx location) bgp-communities  What is LAG? (584) Answer aggregate the dx connection to a larger bandwidth  How many DX connections can a LAG have? (584) Answer 4  What is the bandwidth requirement of a LAG? (584) Answer same bandwidth and on the same customer device  What is the operation connection attribute in LAG? (589) Answer no of connection that aws treating the LAG is up and running  how to increase the resiliency of DX? (3 methods) (590) Answer multi device (development) multi location (resiliency) multi device and multi dx location (max) one more - dx over vpn  how to encrypt DX traffic? (2 methods) (601) Answer dx over vpn (ipsec) macsec  When will the Dx connection be charged? (Hosted and Dedicated connection) (621) Answer dedicated: once aws create the connection for you (aws did their job, give you the LOA) hosted: once you accept the connection  What will be charged in Dx? (615) Answer data out and port charge  Who will be charged for the DTO fee? (622) Answer the resource owner to send out the traffic  ELB What Layer ALB, CLB, NLB, GLB belong to? (639) Answer alb 7 clb 7/4 nlb 4 glb 3  What protocol does ALB, CLB, NLB, GLB support? (641) Answer alb http https clb http https tcp tls nlb tcp udp tls glb ip  Why does NLB have less latency than ALB? (652) Answer do not need to read the packets (we only check the ip port and protocol)  What kind of target can be used in the ALB and NLB target group? (653) Answer alb: ip ec2 lambda nlb: ip ec2  What kind of protocol is supported in the health check? (653) Answer tcp  What are the connection idle timeouts of ALB, NLB, CLB? (657) Answer alb 60 nlb 350for tcp 120 for udp cannot be configured clb 60  What routing algorithm supported by ALB, NLB, CLB (659) Answer alb, clb: least outstanding, round-robin nbl: hash flow hash  How to keep the client ip in ALB, NLB (671, 672) Answer alb \u0026 clb: x-forwarded-For nlb: proxy protocol 2 clb: proxy protocol 1  How to keep the client on the same instance for a period of time? (661) Answer sticky session  What is Cross-Zone Load Balancing? (663) Answer by default enabled in alb, the traffic are load balanced to all instances evenly  disabled in nlb disabled in clb (api), enabled in clb (console)  What is SNI and which ELB does it support? (667) Answer sni = domain name in certmulti ssl certs in one web server alb and nlb support it  What is Connection Draining (670) Answer remove opening connections from died instance (auto scaling group)  Cloudfront What services / source can be Cloudfront\u0026rsquo;s origin? (683) Answer any public ip s3 media package and mediastore container  Why public access is needed in cloudfront\u0026rsquo;s origin (683) Answer Cloudfront does the health check from the internet  What is the origin group (687) Answer primary \u0026 secondary of group of origin for failover one primary and one secondary origin for failover create a origin group, select primary \u0026 secondary origin, then select the group in cloudfront origin  How to change custom header / behaviour in Cloudfront? (698) Answer use lambda@edge or cloudfront actionfunction  How to restrict the content to specific geolocation? (696) Answer map the origin to geolocation the allow / block list choose either whitelist / blacklist and the countries for restriction  What is AWs global accelerator? What does it work (709) Answer use anycast(2ips). will send traffic to aws edge locations and then reach to your service through aws backbone network  What is the difference between AWS global accelerator and cloudfront? (711) Answer cloudfront only supports http / https. accelerator using a transport layer so it can be udp volip mqtt  Route53 What is the longest and shortest TTL in route53 (721) Answer 60s  24hr  What are the alias targets in route53 (724) Answer s3 beanstalk vpce accelerator api gateway elb cloudfront other route53 record(same hosted zone)  How to bind an RDS DB instance in route53 (748) Answer cname  Routing Policies in Route53? (725) Answer simple multivalue failover latency weighted geolocation geoproximty  How does Route53 perform the health check in a private VPC? (732) Answer setup a health check with cloudwatch alert  How to setup hybrid DNS (754) Answer use route53 forwarderresolver. create outbound(forward on-premise domain query to on-premise dns) and inbound (for on-premise forwarderresolver to forward the query to aws vpc domain) endpoint  How does AWS ensure the HA in route53? (807) Answer random sharding anycast striping  Network firewall What layer SG, NACL, network firewall, WAF, shield? Answer sg = 7 3/4 nacl = 4 3/4 network firewall 7-4 7-3 waf = 7 shield = 3  What is the VPC level in SG and NACL? (766) Answer sg = vpc instance nacl = subnet   When should we use nacl instead of sg? (768, 769) Answer to block something (sg cannot block traffic)  When should we use WAF instead of lacl ? (770) Answer block many ips / handle ddos  block ip for the application cloudfront / alb behind  Stateless and stateful of sg, nacl, network firewall, shield? (773) Answer sg = stateful nacl = stateless network firewalld = both (stateless - stateful) shield = stateless  How can a SYN cookie prevent DDos in packet flooding? Gateway Load balancer what is the use case of gateway load balancer (813) Answer applicane (ip ec2)  what port does gateway load balancer need for GENEVE (817) Answer GENEVE UDP 6081  Other Centralised VPC Interface endpoint 295 access s3 with endpoint use a private link to access a web server (NLB/EC2) VPC peering connections (125) VPC peering allows using Security group (301) how many ip can BYOIP bring in (90) How many VPC CIDRs can a VPC have? (72) dns of vpc .2 169.254.169.253 (117) Why is edge location safe? (711) What must be enabled to use route53 in vpc? Demo (266)\nHand-on Labs https://www.whizlabs.com/learn/course/aws-advanced-networking-speciality/195\nEC2  30  CloudFront  1 2 10  ALB  3 4 5  WAF  11 12  ACL  18 29  VPN  21  Endpoint  23 24 25  Flow Log  26  Container  28  VPCs Connectivities  Transit gateway peering attachments What is VPC peering? Transit Gateway vs VPC peering     Solution / Situation same region cross account cross region     VPC Peering OK OK OK   TGW Peering OK OK OK   TGW (attach VPC) OK OK NO   AWS Managed VPN OK OK OK   EC2 Based VPN OK OK OK    Private Link is something like tgw peer but for specific service only. It can cross regions and accounts.\nScope    Resource Scope     VGW VPC   TGW VPC   NLB VPC   ALB VPC   Route53 VPC   NAT Subnet    Common Pattern  Routing (582)  Site-to-Site Connection routing  Static - Active/ Active Tunnels (349) Static - Active/ Passive Tunnels (350) Dynamic - Active/ Active Tunnels (351)  TGW  Centralised NAT gateway (241) Centralised NAT instance (243) Centralised NAT instance + VPN (244) Centralised VPC interface endpoint + VPN (245) Hybrid VPN (247) Hybrid DX (248)  VPC Peering Failed cases    Page Title     207 CIDR overlap or transitive routing   208 from DX or VPN   209 to IGW    Site-to-site VPN / DX with VGW Use cases    Page Title     335 Site-to-site Connection with NAT-Traversal   361 Single Site-to-site Connection with VGW   363 Multiple Site-to-site Connection with VGW   365 Redundant VPN connections for HA    Failed cases    Page Title     340 Site-to-site VPN to IGW   341 Site-to-site VPN to NAT   343 Site-to-site VPN to VPC Peering   344 Site-to-site VPN to VPC Gateway endpoint    Successful cases    Page Title     342 Site-to-site VPN to NAT Instance   345 Site-to-site VPN to VPC Interface endpoint   345 Site-to-site VPN to on-premise NAT to Internet    Site-to-site VPN with TGW    Page Title     362 Multiple Site-to-site Connection with TGW    VPN CloudHub  369  EC2 Based VPN    Page Title     375 Single instance   376 HA   378 Horizontal scaling - VPN EC2 per subnet   379 Horizontal scaling - Split traffic    Transit VPC    Page Title     391 Transit VPC   398 global regions with single Transit Hub   398 global regions with multiple Transit Hub (GRE)   549 Direct Connect and Transit VPC    DX Use cases    Page Title     591 VPN as a backup   592 Dual Devices   593 Dual locations   594 Dual locations with DX connection backup   602 VPN over DX    Failed cases    Page Title     530 DX Gateway with multiple customer sites   542 DX Gateway with multiple TGWs    Successful cases    Page Title     546 DX Gateway with multiple customer sites    Network Firewall Use cases  Centralised: single firewall subnet / vpc. connect with tgw (791) Distributed: firewall subnet per vpc (790)  Limitation VPC Limit\nPeering VPC Peering: 125\nRouting    Resource Limit     Private VIFs 100   Public VIFs 1000    MTU (159)    Resource Limit     VPC 9001   VPC Peering 1500   DX 9001   TGW (to DX) 8500   TGW (to VPN) 1500   VPC Endpoint 1500   NAT 1500   IGW 1500   VPN 1500    Bandwidth  Quotas for your TGW Aggregated throughput limit for VGW NAT gateways  VPC (180)    Resource Limit     VPC Peer no   IGW no   NAT 5-45 Gbps   TGW depends   VGW 1.25Gbps   VGW (to DX) depends on DX    TGW  1 VPN can have 2 tunnels     Resource Limit per resource     VPC 50Gbps   DX 50Gbps   TGW 50Gbps   VPN tunnel 1.25Gbps    VPN Tunnel 1.25Gbps\nEC2  100G networking in AWS, a network performance deep dive  EC2 network performance rules:\n single flow limit within regions and other     Situation Limit     w/i the region 100%   to other regions 50%   igw 50%   dx 50%    Single Flow    Situation Limit     w/i placement group 10Gbps   other 5Gbps    Aggregated  General Purpose Network Performance     Situation Limit     w enhanced networking 100Gbps   w/o enhanced networking 25Gbps       Network Driver Limit     Intel 82599VF 10Gbps   ENA 100Gbps   EFA 100Gbps    ","permalink":"https://hugotkk.github.io/posts/aws-certified-advanced-network/","summary":"Resources  Exam Landing Page Sample Questions Exam Guide udemy course udemy mock exam whizlabs test \u0026amp; hand-on labs  TODO  take notes revision whizlabs mocks (by topic) mock 1 (udemy) mock 2,3,4 (whizlabs) examtopic udemy quiz + exercise  Revision The numbers below are the page no of the udemy course\u0026rsquo;s pdf: AWS Certified Networking Specialty Slides v1.1.\nSummary  DNS (151) Advanced Networking (188) VPC Endpoint (292, 298) Site-to-site VPN (347, 401, 407) VPN Tunnels and Routing (348, 352) DX Gateway with VGW (532) DX with TGW (547) DX Billing (624) DX (630) Troubleshooting in DX (626) Gateway Load Balancer (816)  Q \u0026amp; A  ALB (677) DX (625)  Good to know  SG (46) BYOIP (90) VPC Traffic Mirroring (105) DHCP Option Sets (124) TGW (251) AWS Site-to-Site VPN (403) Network Load Balancer (656)  Comparisons  private, public and EIP (33) IPv4, IPv6 (36) NACL, SG (48) NAT Gateway, Instance (64) VPC Peering vs Transit Gateway Cloudfront function vs lambda@edge (703) AWS global accelerator vs Cloudfront (711)  Exam Essential  VPC Fundamentals (67) Advanced VPC (190) VPC Peering Endpoint (301) AWs Site-to-Site VPN (402) Direct Connect (632) Firewall (806) Gateway Load Balancer (817)  Revision by topic Playlists  global accelerator api gateway client vpn cloudformation cloudfront cloudwatch cloudhsm cognito config dx edge computing elb firehose guarduty inspector lambda organization route53 s3 sqs ssm vpc vpn waf workspace  References  accelerator - custom routing accelerator - custom routing alb - limit request to clondfront only aurora - regional failover aws organization - SCP cloudfront - origin types cloudfront - signed url vs signed cookies cloudfront - troubleshooting cloudfront - will forward the response when first byte arrives from the origin cloudhsm - auto ha cloudtrail - 5 trails for region cloudtrail - log encryption with KMS cloudtrail - use integrity validation to check the log was modified, delete or change cloudwatch - namespace valid characters cloudwatch - no need to config sns to provide data every minute cloudwatch - skip metrics config - managed rules config - renaming the delivery channel config - requirements config - type of triggers config - viewing configuration compliance costs model costs model 2 dhcp - cannot modify and one vpc one dhcp options dx - dx in public regions can access any other public region dx - faq dx - lag requirement 1 dx - lag requirement 2 dx - public vif dx - public vif connectivity dx - quotas dx - requirements for virtual interfaces dx - vif dx - virtual Interfaces to Direct Connect connections or LAG bundles dx - vpn as backup ec2 - http proxy ec2 - network performance ec2 - retrieve instance metadata eip - hostname will be changed once eip attached eip - public ip change every time stop and start the instance eip - public ip will be released once eip attached eip - reverse dns record for mailserver eni - limitation flow log local zone - alb limitation local zone - supported service ms ad - limitation - not compatible with exchange and skype ms ad - requirements nacl - default rule# in nacl nat - need egress-only-internet-gateway for ipv6 to ipv6 commnuication nat - only support tcp udp and icmp nat - pricing nat - tcp connectin fail as tcp does not support ip fragmentation placement group - can add / move / remove instance from group placement group - can launch with diff instance type but not recommended placement group - can span vpcs placement group - cannot merge placement group placement group - stop and start is fine but may have insufficient capacity error without capacity reservation quicksight - private connection with rds redishift - private connectivity with enhanced vpc routing route53 - a/p failover route53 - aws services which support alias records route53 - can attach private hosted zone with overlapping namespace in same vpc route53 - dns resolution b/w on-premise and aws with ad route53 - dns server with custom domain (white-labe and reusable delegation set) route53 - health check rules route53 - system rules when forwarding less specific domain simple ad - requirement sns tgw - peering tgw - quotas tgw - route table priority vpc - aws cidr tier vpc - aws does not support broadcast in vpc vpc - ipv4 subnet cidr prefix vpc - ipv6 subnet cidr prefix vpc - jumbo frame packet drop as Don't Fragment flag is set but the network does not support higher MTU vpc - multicast support vpc - reserved address in cidr vpc - route table qutoa vpc - route table troubleshoot vpc - usage of enableDnsHostnames and enableDnsSupport vpce - service endpoint support ipv4 over tcp only vpce - tagging is suported vpce - use prefix list in security group vpn - ipv6 support on tgw but not vgw vpn - static route a/p mode (priority) vpn - troubleshooting vpn - why cannot overlap the cidr vpn -ipsec encryption algorithms waf - config count action to test (monitor mode) waf - rule statement list workspaces - requirements appliance in shared vpc cloudhub mult vpc with single customer gateway multi-vpc network infrastructure route table options shared vpc transit vpc Virtual Private Cloud Connectivity Options vpc peering with cidr overlap vpc with subnet overlapping  VPC Fundamentals (17) What is TCP/IP?","title":"AWS Certified Advanced Networking - Specialty"},{"content":"Trust Over IP: Hyperledger Ursa, Indy, and Aires https://www.youtube.com/watch?v=FfuhlF9ZYPM\nNotes  prove the credential without CA trusted issuer (eg: gov) issues the identity token (eg: driving licence) -\u0026gt; send it to a crypto account (like sending btc to someone) on the blockchain, it shows a record that the account owns that licence. (like you can check your btc balance / NFS on chain explorer) anyone can request that you own that account (like an approval transaction from dapp). You can decide to share your data to what extent send the data to requester and it can be verified as it is signed by issuer blockchain is used to prove the ownership of your identities data can be stored off chain, sign it and verify with issuer\u0026rsquo;s account hacking personal accounts become useless -\u0026gt; not cost effective, you can hack a single person each time stealing / leading personal data is useless -\u0026gt; no proof, no one will accept  Example british columbia\nComprehensive review of 21 use cases of Hyperledger https://youtu.be/VQTARQSuUFU?t=1440\nUse cases (some are still in proof of concept)  end to end tracking (supply chain, different parties can participate eg: bank insurance company consultant retail\u0026hellip;) 2.identity management - eg: allow 3rd parties to access your data with requests, prevent fraud, credit checking, hash your passport/fingerprint so you can verify it is your identity contract automation- like promotion in company (HR), consultant contract voting tokenisations - cross parties reward program(asiamiles), assets management (use in trading, convert different kinds of assets like house stock cash to token) immutable record- law enforcement investigation, accounting, credit check, insurance claim, medical history, law\u0026hellip;  Hyperledger Fabric Business Use Cases https://youtu.be/1ps4PJtFRfY?t=544\nIBM food trust  safety sustainability cost optimization (inventory / transportation ) tracking  Tradelens -\u0026gt; (supply chain for trading)  costs 1.8T / year -\u0026gt; potential saving ~10% costs  IBM blockchain world wire  world wire solution with blockchain use stellar protocol  Singapore Exchange: Clearing Financial Transactions on Amazon Managed Blockchain https://www.youtube.com/watch?v=nUre2ELySdo\nblockchain is used to handle the payment and settlement of securities\nthe method they used called DVP (delivery versus payment) = a way to ensure cash and securities can simultaneously exchange\nclient can be\n buyer = buy securities with eth seller = sell securities with eth  In the architecture,\n hyperledger = securities eth client = cash  Transaction will come across with both ledgers\narbitrator and observer with receive activities on chain\n arbitrator = mediator = handle dispute observer = regulator = do regulatory report  Pros with AWS Managed Blockchain  no need to build the ledger by themself focus on the smart contract a single blockchain network can effectively work across multiple parties  An Overview on Blockchain Services from AWS https://www.youtube.com/watch?v=WAIOBeQA2QQ\nPros of blockchain network  ledger database (immutable transaction) consensus decentralisation smart contract ease for audit  Hyperledger fabric VS ETH  authentication access control easy to add user easy to duel with settlement (bank) faster than centialization private ledger  use case  trading supply case  Enhanced Transparency and Frictionless Supply Chain with Blockchain https://www.youtube.com/watch?v=2NqbUb4rT88\u0026amp;list=WL\u0026amp;index=46\nB2B Business\nbuy and sell order between Bottlers\n visibility cross supply chain reduce manual process and communicate between sellers and buyers dispute resolution (smark contract) -\u0026gt; I think we can use TimeLock to do partial transaction easy to scale no need to build a different api for each system (mesh network n(n-1)/2)  ","permalink":"https://hugotkk.github.io/posts/blockchain-use-case/","summary":"Trust Over IP: Hyperledger Ursa, Indy, and Aires https://www.youtube.com/watch?v=FfuhlF9ZYPM\nNotes  prove the credential without CA trusted issuer (eg: gov) issues the identity token (eg: driving licence) -\u0026gt; send it to a crypto account (like sending btc to someone) on the blockchain, it shows a record that the account owns that licence. (like you can check your btc balance / NFS on chain explorer) anyone can request that you own that account (like an approval transaction from dapp).","title":"Blockchain use cases"},{"content":"with IAM  user -\u0026gt; with API_KEY \u0026amp; API_TOKEN audience attached iam role (eg: ec2 instance) update the iam role and user mapping in configmap aws-auth  OIDC OIDC built in at the eks cluster\n OICD can request AWS IAM to issue the web identity token the token will be used to assume role and access AWS service     Item Value     OICD oidc.hhuge9.com   IAM user hugotse   OIDC user kevintse   IAM role S3Admin    To assume a role in EKS  Associate OIDC to AWS IAM - that why it is called associate-iam-oidc-provider. Create an role which has a trust relationshop to the service account from OIDC to assume with Web Identity Token - so who in OIDC can use web identity token to access aws service  Difference between assume-role and assume-role-with-web-identity  hugotse can use aws sts assume-role to assume S3Admin kevintse can use aws sts assume-role-with-web-identity with web-identity to assume S3Admin  How a pod to access aws service EKS has some webhooks, it will monitor our changes on cluster\nYou can create a custom admission webhooks, deny / modify specfic requests of api servers\nWhen the admission webhook detects a service account associated to a pod and that account annotate with iam arn, it will\n admission webhook -\u0026gt; send OICD token to AWS IAM AWS IAM -\u0026gt; verify the OICD token and return web identity token to the webhook admission webhook save the web identity token and mount it as a volume in the pod Application -\u0026gt; use the web identity token with aws sts assume-role-with-web-identity to access AWS Service  Where does the OICD token come from? with Service Account Token Volume Projection, any pod attached with a service account will automatically mount with a OICD token\nWays to assume role  if you are an iam user, use access key if you are in aws services (like ec2 instance), attach iam role or with oidc, use web identity token  oidc user get web identity token from aws iam with oidc token oidc user use the token to assume role    Permission needs to assume role by a iam user  user hugotse have right to use assume-role (call aws sts assume-role) a role has a trusted relationship to user hugotse to assume role  by a oicd user  oidc user kevintse have right to use assume-role-with-web-identity a role has a trusted relationship with oicd user kevintse to assume role with web identity  ","permalink":"https://hugotkk.github.io/posts/k8s-authentication/","summary":"with IAM  user -\u0026gt; with API_KEY \u0026amp; API_TOKEN audience attached iam role (eg: ec2 instance) update the iam role and user mapping in configmap aws-auth  OIDC OIDC built in at the eks cluster\n OICD can request AWS IAM to issue the web identity token the token will be used to assume role and access AWS service     Item Value     OICD oidc.","title":"k8s Authentication"},{"content":"Things to turn off before exam Bandwidth saving  google drive sync any backgorund updates wifi connection in other devices  Prevent from autoupdate  software update (mbp, iphone)  Others  firewall disable all chrome plugins  backup plan  sim card - two extra network: EE, giffgaff spare computer (MBP)  Tips When use wc -\u0026gt; be careful the header, need total - 1 Store temporary commands / note / result in a fixed location like /root/tmp Even in remote host; we use that fixed location to store our results then get back the result from it remote$ cat tmp remote$ exit remote$ exit local$ ssh remote cat tmp Do not use tmux hard to copy and paste and scroll\nOne question one yml Name with q\u0026lt;no\u0026gt;.yml like q10.yml is the yml of 10th question\nWrite all resources on same yml in same question Set .vimrc set sw=2 ts=2 et set hidden Use alias export do='--dry-run=client -o yaml' export now='--sort-by=\u0026quot;{.metadata.creationTimestamp}\u0026quot;' Use variable in command n=namespace nn=name i=image s=server Then you will find that we can reuse many command history. like\nCreate po yml k run -n $n $nn --image $i $do Get po k get po $nn -n $n Test service account k auth can-i --as=system:serviceaccount:$n:$nn When working on next question, start a new vim (kill the old session) Keep a single vim session in bash  back and fore from vim and bash many times is needed using multiple vim session are so confusing that also why working on single yaml per question is encouraged  Create (touch /opt/xxxxx/q11/answer) the answer file first  needed to submit anser to specfic file just touch the file -\u0026gt; open it with vim -\u0026gt; put it in background (c-z)  ","permalink":"https://hugotkk.github.io/posts/note-for-cka-exam/","summary":"Things to turn off before exam Bandwidth saving  google drive sync any backgorund updates wifi connection in other devices  Prevent from autoupdate  software update (mbp, iphone)  Others  firewall disable all chrome plugins  backup plan  sim card - two extra network: EE, giffgaff spare computer (MBP)  Tips When use wc -\u0026gt; be careful the header, need total - 1 Store temporary commands / note / result in a fixed location like /root/tmp Even in remote host; we use that fixed location to store our results then get back the result from it remote$ cat tmp remote$ exit remote$ exit local$ ssh remote cat tmp Do not use tmux hard to copy and paste and scroll","title":"Note for CKA Exam"},{"content":"   Control Panel     svr1   svr2   svr3    svr1 Stop k8s systemctl stop kubelet crictl rm -f $(crictl ps -q) start the etcd in single node vim /etc/kubernetes/manifests/etcd.yaml - --force-new-cluster=true Add svr2 etcd to cluster kubectl exec -it etcd-svr1.hhuge9.com -nkube-system -- sh -c 'ETCDCTL_API=3 etcdctl --endpoints 127.0.0.1:2379 --cert=/etc/kubernetes/pki/etcd/server.crt --key=/etc/kubernetes/pki/etcd/server.key --cacert=/etc/kubernetes/pki/etcd/ca.crt member add svr2.hhuge9.com --peer-urls=\u0026quot;https://192.168.0.102:2380\u0026quot;' Save the output export ETCD_NAME=\u0026quot;svr2.hhuge9.com\u0026quot; export ETCD_INITIAL_CLUSTER=\u0026quot;svr1.hhuge9.com=http://192.168.0.101:2380,svr2.hhuge9.com=http://192.168.0.102:2380\u0026quot; export ETCD_INITIAL_CLUSTER_STATE=existing systemctl start kubelet svr2 Stop k8s and remove etcd data systemctl stop kubelet crictl rm -f $(crictl ps -q) rm -rf /var/lib/etcd Update etcd config (with the output in svr1) vim /etc/kubernetes/manifests/etcd.yaml - --initial-cluster=svr1.hhuge9.com=https://192.168.0.101:2380,svr2.hhuge9.com=https://192.168.0.102:2380 - --initial-cluster-state=existing systemctl start kubelet ","permalink":"https://hugotkk.github.io/posts/etcd/","summary":"Control Panel     svr1   svr2   svr3    svr1 Stop k8s systemctl stop kubelet crictl rm -f $(crictl ps -q) start the etcd in single node vim /etc/kubernetes/manifests/etcd.yaml - --force-new-cluster=true Add svr2 etcd to cluster kubectl exec -it etcd-svr1.hhuge9.com -nkube-system -- sh -c 'ETCDCTL_API=3 etcdctl --endpoints 127.0.0.1:2379 --cert=/etc/kubernetes/pki/etcd/server.crt --key=/etc/kubernetes/pki/etcd/server.key --cacert=/etc/kubernetes/pki/etcd/ca.crt member add svr2.hhuge9.com --peer-urls=\u0026quot;https://192.168.0.102:2380\u0026quot;' Save the output export ETCD_NAME=\u0026quot;svr2.hhuge9.com\u0026quot; export ETCD_INITIAL_CLUSTER=\u0026quot;svr1.","title":"Recover etcd"},{"content":"Procedures  create private key create csr (distinguished_name) sign csr by CA (x509v3)  Commands Gen private key openssl genrsa \\ -out ca.key Self signed crt openssl req -x509 \\ -config openssl.cnf -new \\ -out ca.crt \\ -key ca.key gen csr openssl req \\ -config openssl.cnf -new \\ -out server.csr \\ -key server.key sign crt openssl x509 \\ -extfile openssl.cnf \\ -extensions svr_cert \\ -in server.csr \\ -out server.crt \\ -CA ca.crt \\ -CAkey ca.key \\ -CAcreateserial  When the CA is first time to sign a cert, you need to create serial file ca.crl with -CAcreateserial Next time we sign a new cert, we will need to update the serial file with -CAserial ca.crl  Outputs Inspect the cert / key openssl rsa -in ca.key -noout -text openssl x509 -in ca.crt -noout -text extract the pub key openssl rsa -in ca.key -pubout openssl x509 -in ca.crt -noout -pubkey Verify crt is issue by ca openssl verify -CAfile ca.crt server.crt key and crt are match (modulus) openssl rsa -in ca.key -nout -modulus | openssl md5 openssl x509 -in ca.crt -nout -modulus | openssl md5 trust self signned ca we need to place the ca.crt to a location and call command below to trusted the cert (the programme will create a soft link)\nwe can man update-ca-certificate to find the location. eg: /usr/local/share/ca-certificates\ncp ca.crt /usr/local/share/ca-certificates update-ca-certificate trusted the cert in firefox and chrome acutally work but we need to restart the pc..\ntwo output should be same\nCAxxxx \u0026lt;- Capital in CA, lowercase in next word -in -out \u0026lt;- represent the module\nConfig cp /etc/ssl/openssl.cnf openssl.cnf vi openssl.cnf Remove all empty and commended lines and start update the openssl.cnf\nHOME = . oid_section = new_oids [ new_oids ] tsa_policy1 = 1.2.3.4.1 tsa_policy2 = 1.2.3.4.5.6 tsa_policy3 = 1.2.3.4.5.7 [ ca ] [ CA_default ] policy = policy_match [ policy_match ] countryName = match stateOrProvinceName = match organizationName = match organizationalUnitName = optional commonName = supplied emailAddress = optional [ policy_anything ] countryName = optional stateOrProvinceName = optional localityName = optional organizationName = optional organizationalUnitName = optional commonName = supplied emailAddress = optional [ req ] default_bits = 2048 default_keyfile = privkey.pem distinguished_name = req_distinguished_name attributes = req_attributes string_mask = utf8only [ req_distinguished_name ] 0.organizationName = Organization Name (eg, company) 0.organizationName_default = hhuge9.com commonName = Common Name (e.g. server FQDN or YOUR name) commonName_max = 64 [ req_attributes ] [ v3_req ] basicConstraints = CA:FALSE keyUsage = critical, digitalSignature, keyEncipherment [ v3_ca ] basicConstraints = critical,CA:true keyUsage = critical, keyCertSign subjectKeyIdentifier=hash authorityKeyIdentifier=keyid:always,issuer [ svr_cert ] basicConstraints=CA:FALSE keyUsage = critical, digitalSignature, keyEncipherment extendedKeyUsage = serverAuth subjectKeyIdentifier=hash authorityKeyIdentifier=keyid,issuer [ usr_cert ] basicConstraints=CA:FALSE keyUsage = critical, digitalSignature, keyEncipherment extendedKeyUsage = clientAuth subjectKeyIdentifier=hash authorityKeyIdentifier=keyid,issuer The most important setting is session: v3_req v3_ca svr_cert and usr_cert\nNormally, Cert need req_distinguished_name session only.\nFor example, we use domain in CN (Common Name) in web server cert\nIn k8s, we will use CN as username, O (Orgnazation) as group for auth\nIt can be done by commands without config.\nThose information is defined in req stage. (not sign stage)\nIf you want to use config, you can:\n[ req_distinguished_name ] 0.organizationName = Organization Name (eg, company) 0.organizationName_default = hhuge9.com commonName = Common Name (e.g. server FQDN or YOUR name) commonName_max = 64 Or in command, we can\nopenssl req \\ -config openssl.cnf -new \\ -out server.csr \\ -key server.key \\ -subj '/O=hhuge9.com/CN=redis.hhuge9.com' But when we want to create a CA, cert for TLS auth. We need x503v3 extension to define additional information.\nThat is why we see -config and -extensions in sign command.\nTo check the documentation of the extension, we can man openssl x509 \u0026gt; go to bottom \u0026gt; Also see x509v3_config \u0026gt; man x509v3_config\nCSR do not need the extension. -config is optional.\nThis three are most important:\nFor non CA\nbasicConstraints = CA:FALSE keyUsage = critical, digitalSignature, keyEncipherment For CA\nbasicConstraints = CA:TRUE keyUsage = critical, keyCertSign For server cert\nextendedKeyUsage = serverAuth For client cert\nextendedKeyUsage = clientAuth If we want to contraint the cert be used by specfic host, we can add subjectAltName\nsubjectAltName = @alt_name [ alt_name ] DNS.0 = redis-master.hhuge9.com DNS.1 = redis01.hhuge9.com IP.0 = 192.168.2.100 ","permalink":"https://hugotkk.github.io/posts/openssl/","summary":"Procedures  create private key create csr (distinguished_name) sign csr by CA (x509v3)  Commands Gen private key openssl genrsa \\ -out ca.key Self signed crt openssl req -x509 \\ -config openssl.cnf -new \\ -out ca.crt \\ -key ca.key gen csr openssl req \\ -config openssl.cnf -new \\ -out server.csr \\ -key server.key sign crt openssl x509 \\ -extfile openssl.cnf \\ -extensions svr_cert \\ -in server.csr \\ -out server.crt \\ -CA ca.","title":"How to create ssl cert for tls auth"},{"content":"I am preparing the CKA exam. The exam requires us to complete tasks using web terminal on Chrome.\nMy concern is that Ctrl+w is a common shortcut in terminal (delete word) but it also is the \u0026ldquo;close tab\u0026rdquo; shortcut of chrome. (Windows)\nThere is a workaround on this issue. Comment under this article mentioned that we can define ctrl+w in chrome://extensions/shortcuts to override the default behavior on ctrl+w. This will prevent the tab be closed when hit ctrl+w accidently.\n","permalink":"https://hugotkk.github.io/posts/disable-ctrl-w-on-chrome/","summary":"I am preparing the CKA exam. The exam requires us to complete tasks using web terminal on Chrome.\nMy concern is that Ctrl+w is a common shortcut in terminal (delete word) but it also is the \u0026ldquo;close tab\u0026rdquo; shortcut of chrome. (Windows)\nThere is a workaround on this issue. Comment under this article mentioned that we can define ctrl+w in chrome://extensions/shortcuts to override the default behavior on ctrl+w. This will prevent the tab be closed when hit ctrl+w accidently.","title":"Disable Ctrl+w on Chrome"},{"content":"https://www.w3.org/TR/NOTE-datetime\n2019-07-16T12:00:00Z = utc time\nYYYY-MM-DDThh:mm:ss.sTZD\nTZD can be Z or +hh:mm or -hh:mm\nZ = UTC\n+08:00 = UTC+8\n","permalink":"https://hugotkk.github.io/posts/time-format/","summary":"https://www.w3.org/TR/NOTE-datetime\n2019-07-16T12:00:00Z = utc time\nYYYY-MM-DDThh:mm:ss.sTZD\nTZD can be Z or +hh:mm or -hh:mm\nZ = UTC\n+08:00 = UTC+8","title":"Time Format"},{"content":"Facing this warning in a repo\nwarning: ignoring broken ref refs/remotes/origin/HEAD https://stackoverflow.com/questions/45811971/warning-ignoring-broken-ref-refs-remotes-origin-head\nAfter reading this article, seem the reference of refs/remotes/origin/HEAD is broken.\n$ git symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/master I have changed the branch from master to main before. master branch is no longer exist. I think that is the reason of the warning.\ngit symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/main Then the warning is fixed.\n","permalink":"https://hugotkk.github.io/posts/broken-git-ref/","summary":"Facing this warning in a repo\nwarning: ignoring broken ref refs/remotes/origin/HEAD https://stackoverflow.com/questions/45811971/warning-ignoring-broken-ref-refs-remotes-origin-head\nAfter reading this article, seem the reference of refs/remotes/origin/HEAD is broken.\n$ git symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/master I have changed the branch from master to main before. master branch is no longer exist. I think that is the reason of the warning.\ngit symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/main Then the warning is fixed.","title":"Broken Git Ref"},{"content":"Recently find that it is too slow to start a new bash.\nAfter debugging, I realize that nvm is the main reason for that.\nFinally, disabled nvm to solve the problem.\n","permalink":"https://hugotkk.github.io/posts/slow-bash-startup/","summary":"Recently find that it is too slow to start a new bash.\nAfter debugging, I realize that nvm is the main reason for that.\nFinally, disabled nvm to solve the problem.","title":"Slow Bash Startup"},{"content":"I used the emacs keybind to maniplicate the string on command line but it does not work at chrome on macos.\nI am unhappy with that until I find the solution on this post\n https://stackoverflow.com/questions/20146972/is-there-a-way-to-make-alt-f-and-alt-b-jump-word-forward-and-backward-instead-of  sudo mkdir -p ~/Library/Keybindings/ sudo vi ~/Library/Keybindings/DefaultKeyBinding.dict { \u0026quot;~d\u0026quot; = \u0026quot;deleteWordForward:\u0026quot;; \u0026quot;^w\u0026quot; = \u0026quot;deleteWordBackward:\u0026quot;; \u0026quot;~f\u0026quot; = \u0026quot;moveWordForward:\u0026quot;; \u0026quot;~b\u0026quot; = \u0026quot;moveWordBackward:\u0026quot;; } ","permalink":"https://hugotkk.github.io/posts/move-forward-backward-in-chrome/","summary":"I used the emacs keybind to maniplicate the string on command line but it does not work at chrome on macos.\nI am unhappy with that until I find the solution on this post\n https://stackoverflow.com/questions/20146972/is-there-a-way-to-make-alt-f-and-alt-b-jump-word-forward-and-backward-instead-of  sudo mkdir -p ~/Library/Keybindings/ sudo vi ~/Library/Keybindings/DefaultKeyBinding.dict { \u0026quot;~d\u0026quot; = \u0026quot;deleteWordForward:\u0026quot;; \u0026quot;^w\u0026quot; = \u0026quot;deleteWordBackward:\u0026quot;; \u0026quot;~f\u0026quot; = \u0026quot;moveWordForward:\u0026quot;; \u0026quot;~b\u0026quot; = \u0026quot;moveWordBackward:\u0026quot;; } ","title":"Move Forward Backward in Chrome"}]