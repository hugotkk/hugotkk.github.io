<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>25 - Setup DMVPN &#183; Hugo's IT journal</title><meta name=title content="25 - Setup DMVPN &#183; Hugo's IT journal"><meta name=description content="Explore an IT enthusiast's personal journal sharing insights on DevOps, AWS, Kubernetes, Docker, and more - learn, grow, and stay updated in the tech world."><meta name=keywords content="ccie,notes,"><link rel=canonical href=https://hugotkk.github.com/posts/25-setup_dmvpn/><link type=text/css rel=stylesheet href=/css/main.bundle.min.85f006de1806b55b2d082d1122deedd8cec6fdc1f7c8a51be975a4496165d6c798f4a3de52545a6a87cc4bc09fc2d6f5201d44ea57acc1ac2b1c42a688c62bee.css integrity="sha512-hfAG3hgGtVstCC0RIt7t2M7G/cH3yKUb6XWkSWFl1seY9KPeUlRaaofMS8Cfwtb1IB1E6leswawrHEKmiMYr7g=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.b8f12e2e21d0fce82f8d935f9cb80321fa3fca124fa36cc4df6e4b7474223741a777eb2b65f810cc333bd862f49543df61cf5607a0736faf053ffe9b9c39ff8a.js integrity="sha512-uPEuLiHQ/OgvjZNfnLgDIfo/yhJPo2zE325LdHQiN0Gnd+srZfgQzDM72GL0lUPfYc9WB6Bzb68FP/6bnDn/ig==" data-copy data-copied></script>
<script src=/js/zoom.min.js></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:title" content="25 - Setup DMVPN"><meta property="og:description" content="DMVPN # Hub and spoke topology Uses multiple GRE tunnels Requirement: All routers are accessible to each other, typically over the internet Allows for easy addition of new spokes without reconfiguring the hub Useful for sites (spoke) with changing public IP addresses DMVPN Phases:"><meta property="og:type" content="article"><meta property="og:url" content="https://hugotkk.github.com/posts/25-setup_dmvpn/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-25T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-26T21:27:29+01:00"><meta property="og:site_name" content="Hugo's IT journal"><meta name=twitter:card content="summary"><meta name=twitter:title content="25 - Setup DMVPN"><meta name=twitter:description content="DMVPN # Hub and spoke topology Uses multiple GRE tunnels Requirement: All routers are accessible to each other, typically over the internet Allows for easy addition of new spokes without reconfiguring the hub Useful for sites (spoke) with changing public IP addresses DMVPN Phases:"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"25 - Setup DMVPN","headline":"25 - Setup DMVPN","abstract":"DMVPN # Hub and spoke topology Uses multiple GRE tunnels Requirement: All routers are accessible to each other, typically over the internet Allows for easy addition of new spokes without reconfiguring the hub Useful for sites (spoke) with changing public IP addresses DMVPN Phases:","inLanguage":"en","url":"https:\/\/hugotkk.github.com\/posts\/25-setup_dmvpn\/","author":{"@type":"Person","name":"Hugo"},"copyrightYear":"2024","dateCreated":"2024-08-25T00:00:00\u002b00:00","datePublished":"2024-08-25T00:00:00\u002b00:00","dateModified":"2024-08-26T21:27:29\u002b01:00","keywords":["ccie","notes"],"mainEntityOfPage":"true","wordCount":"1556"}]</script><meta name=author content="Hugo"><link href=https://github.com/hugotkk rel=me><link href=https://linkedin.com/in/hugotkk rel=me><script src=/lib/jquery/jquery.slim.min.js integrity></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V270QWW7TE"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-V270QWW7TE")</script><meta name=theme-color></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div><a href=/ class=flex><span class=sr-only>Hugo&rsquo;s IT journal</span>
<img src=/image.jpg width=230 height=230 class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="Hugo's IT journal"></a></div><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">Hugo&rsquo;s IT journal</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12"><a href=/posts/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=Posts>Posts</p></a><a href=/tags/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=Tags>Tags</p></a><a href=/tags/k8s/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=k8s>Kubernetes</p></a><a href=/tags/openstack/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=openstack>OpenStack</p></a><a href=/tags/aws/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=aws>AWS</p></a><a href=/tags/azure/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=azure>Azure</p></a><a href=/tags/rancher/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=rancher>Rancher</p></a><a href=/tags/docker/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title=docker>Docker</p></a><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button></nav><div class="flex md:hidden items-center space-x-5 md:ml-12 h-12"><span></span>
<button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/posts/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=Posts>Posts</p></a></li><li class=mt-1><a href=/tags/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=Tags>Tags</p></a></li><li class=mt-1><a href=/tags/k8s/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=k8s>Kubernetes</p></a></li><li class=mt-1><a href=/tags/openstack/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=openstack>OpenStack</p></a></li><li class=mt-1><a href=/tags/aws/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=aws>AWS</p></a></li><li class=mt-1><a href=/tags/azure/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=azure>Azure</p></a></li><li class=mt-1><a href=/tags/rancher/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=rancher>Rancher</p></a></li><li class=mt-1><a href=/tags/docker/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title=docker>Docker</p></a></li></ul></div></label></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">25 - Setup DMVPN</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2024-08-25 00:00:00 +0000 UTC">25 August 2024</time><span class="px-2 text-primary-500">&#183;</span><time datetime="2024-08-26 21:27:29 +0100 +0100">Updated: 26 August 2024</time></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/ccie/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">ccie</span></span></span>
<span style=margin-top:.5rem class=mr-2 onclick='window.open("/tags/notes/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">notes</span></span></span></div></div><div class="flex author"><img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width=96 height=96 alt=Hugo src=/image_hu41af6bbe385ae76f287135953fab8786_14628_192x192_fill_q75_box_smart1.jpg><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">Hugo</div><div class="text-sm text-neutral-700 dark:text-neutral-400">DevOps Engineer based in London</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/hugotkk target=_blank aria-label=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://linkedin.com/in/hugotkk target=_blank aria-label=Linkedin rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open id=TOCView class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#dmvpn>DMVPN</a><ul><li><a href=#phase2>Phase2</a></li><li><a href=#phase3>Phase3</a></li><li><a href=#phase-2-vs-phase-3>Phase 2 vs Phase 3</a></li><li><a href=#summarization>Summarization</a></li></ul></li><li><a href=#ipsec>IPSEC</a><ul><li><a href=#ike-phase-1>IKE (Phase 1)</a></li><li><a href=#ipsec-phase-2>IPsec (Phase 2)</a></li><li><a href=#ah-and-esp>AH and ESP</a></li><li><a href=#transform-sets>Transform Sets</a></li><li><a href=#transport-vs-tunnel>Transport vs. Tunnel</a></li></ul></li><li><a href=#gre--ipsec>GRE + IPSEC</a><ul><li><a href=#encapsulation-process>Encapsulation Process</a></li><li><a href=#routing>Routing</a></li></ul></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#dmvpn>DMVPN</a><ul><li><a href=#phase2>Phase2</a></li><li><a href=#phase3>Phase3</a></li><li><a href=#phase-2-vs-phase-3>Phase 2 vs Phase 3</a></li><li><a href=#summarization>Summarization</a></li></ul></li><li><a href=#ipsec>IPSEC</a><ul><li><a href=#ike-phase-1>IKE (Phase 1)</a></li><li><a href=#ipsec-phase-2>IPsec (Phase 2)</a></li><li><a href=#ah-and-esp>AH and ESP</a></li><li><a href=#transform-sets>Transform Sets</a></li><li><a href=#transport-vs-tunnel>Transport vs. Tunnel</a></li></ul></li><li><a href=#gre--ipsec>GRE + IPSEC</a><ul><li><a href=#encapsulation-process>Encapsulation Process</a></li><li><a href=#routing>Routing</a></li></ul></li></ul></nav></div></details><script>var margin=200,marginError=50;(function(){var t=$(window),e=$("#TOCView"),s=e.height();function n(){var n=t.height()-margin;s>=n?(e.css("overflow-y","scroll"),e.css("max-height",n+marginError+"px")):(e.css("overflow-y","hidden"),e.css("max-height","9999999px"))}t.on("resize",n),$(document).ready(n)})()</script></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><h2 class="relative group">DMVPN<div id=dmvpn class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#dmvpn aria-label=Anchor>#</a></span></h2><ul><li>Hub and spoke topology</li><li>Uses multiple GRE tunnels</li><li>Requirement: All routers are accessible to each other,
typically over the internet</li><li>Allows for easy addition of new spokes without reconfiguring the hub</li><li>Useful for sites (spoke) with changing public IP addresses</li></ul><p>DMVPN Phases:</p><ul><li>Phase 1: Hub-and-spoke only, no direct spoke-to-spoke tunnels</li><li>Phase 2: Allows dynamic spoke-to-spoke tunnels</li><li>Phase 3: Improves routing and tunnel establishment for large-scale deployments</li></ul><p>GRE Tunnels:</p><ul><li>All spokes point to the hub via GRE tunnels</li><li>Multipoint GRE (mGRE) is used, allowing multiple destinations on a single interface</li></ul><p>NHRP (Next Hop Resolution Protocol):</p><ul><li>Spokes send NHRP registration to the hub</li><li>Hub creates a mapping table containing:<ul><li>Prefix</li><li>Spoke&rsquo;s public IP address (NBMA address)</li><li>Spoke&rsquo;s tunnel IP address (next hop)</li></ul></li><li>Spokes can query the hub for NHRP resolution to reach other spokes for specific prefix</li></ul><h3 class="relative group">Phase2<div id=phase2 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#phase2 aria-label=Anchor>#</a></span></h3><p>(enabled nhs)</p><ul><li>SpokeA has a specific route for SpokeB&rsquo;s network, with the hub as the next hop.</li><li>Before sending traffic, SpokeA initiates an NHRP resolution request to the hub.</li><li>SpokeA asks, &ldquo;What&rsquo;s the NBMA address for the next hop of this specific prefix?&rdquo;</li><li>The hub responds with SpokeB&rsquo;s information.</li><li>SpokeA then creates a direct tunnel to SpokeB and sends the traffic for the specfic route.</li></ul><p>Spoke</p><pre tabindex=0><code>interface Tunnel0
ip address 10.1.1.2 255.255.255.0
tunnel source GigabitEthernet1/0
tunnel mode gre multipoint
ip nhrp network-id 1
ip nhrp nhs 10.1.1.3
ip nhrp map multicast 13.13.13.3
ip nhrp map 10.1.1.3 13.13.13.3
</code></pre><p>hub</p><pre tabindex=0><code>interface Tunnel0
ip address 10.1.1.3 255.255.255.0
tunnel source GigabitEthernet1/0
tunnel mode gre multipoint
ip nhrp network-id 1
ip nhrp map multicast dynamic
</code></pre><h3 class="relative group">Phase3<div id=phase3 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#phase3 aria-label=Anchor>#</a></span></h3><p>Flow:</p><ul><li>SpokeA sends the initial traffic to the hub without any NHRP resolution.</li><li>The hub receives the packet and recognizes it should go to SpokeB.</li><li>The hub initiates NHRP redirects to both SpokeA and SpokeB.</li><li>This prompts SpokeA and SpokeB to perform NHRP resolution between themselves.</li><li>SpokeA and SpokeB then create a direct tunnel for subsequent communication.</li></ul><p>Hub</p><pre tabindex=0><code>ip nhrp redirect
</code></pre><ul><li>This enables the hub to send NHRP redirect messages to spokes.</li><li>It allows the hub to inform spokes about more optimal paths (shortcuts) to reach other spokes.</li></ul><p>Spoke</p><pre tabindex=0><code>ip nhrp shortcut
</code></pre><ul><li>This allows spokes to install shortcuts in their routing table.</li><li>It enables spokes to create direct tunnels to other spokes when informed by the hub.</li></ul><h3 class="relative group">Phase 2 vs Phase 3<div id=phase-2-vs-phase-3 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#phase-2-vs-phase-3 aria-label=Anchor>#</a></span></h3><ul><li>Resolution process: Phase 2 is prefix-based, Phase 3 is spoke-based</li><li>Route specificity: Phase 2 requires specific routes, Phase 3 allows summarization</li><li>NHRP behavior: In Phase 3, hub initiates redirect, spokes resolve between themselves</li><li>Scalability: Phase 3 is more scalable due to summarization capabilities</li></ul><p>Phase 2, hub resolves the specific prefix.</p><ul><li>IGP is needed to advertise spoke internal networks to the hub</li><li>Hub maintains specific routes for each spoke network</li><li>No summarization possible at the hub</li></ul><p>Phase 3, hub is resolving the spoke.</p><ul><li>The hub still knows about networks behind each spoke (via routing protocols)</li><li>NHRP resolution happens directly between spokes after hub redirection</li><li>Hub can summarize routes when advertising to spokes</li><li>Spokes can work with summarized or default routes</li></ul><h3 class="relative group">Summarization<div id=summarization class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#summarization aria-label=Anchor>#</a></span></h3><p>Why summarization cannot be done in phase2?</p><p>DMVPN Phase 2:</p><p>Hub Routing Table:</p><ul><li>Specific routes for networks behind each spoke pointing to Spoke&rsquo;s tunnel IP (not public IP)</li></ul><p>Spoke Routing Table:</p><p>Initially: (before the spoke-spoke tunnel created)</p><ul><li>Specific routes for networks behind other spokes pointing to Hub</li></ul><p>After spoke-to-spoke tunnel creation:</p><ul><li>The specific route now updated to the destination spoke&rsquo;s tunnel IP.</li></ul><p>Hub:</p><ul><li>Can&rsquo;t summarize routes to spokes</li><li>Reason: Needs to provide specific routes for NHRP resolution</li></ul><p>Spoke:</p><ul><li>Initially has specific routes pointing to hub</li><li>After tunnel creation, &ldquo;updates&rdquo; these specific routes</li><li>Can&rsquo;t use summarization because it needs the initial specific routes</li></ul><p>DMVPN Phase 3:</p><p>Hub Routing Table:</p><ul><li>Can have specific routes or summarized routes for networks behind spokes</li><li>Next-hop: Spoke&rsquo;s tunnel IP</li></ul><p>Spoke Routing Table:</p><ul><li>Summarized route or default route pointing to the hub</li><li>Next-hop: Hub&rsquo;s tunnel IP</li></ul><p>Hub:</p><ul><li>Can summarize routes to spokes</li><li>Reason: Doesn&rsquo;t need to provide specific routes for NHRP resolution</li><li>Hub initiates NHRP redirect, but resolution happens between spokes</li></ul><p>Spoke:</p><ul><li>Can work with summarized or default routes from hub</li><li>Specific routes are dynamically &ldquo;installed&rdquo; (not updated) during spoke-to-spoke resolution</li><li>These new specific routes take precedence over summarized routes</li></ul><h2 class="relative group">IPSEC<div id=ipsec class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ipsec aria-label=Anchor>#</a></span></h2><p>IPsec is commonly used with DMVPN for encryption.</p><p>DMVPN uses IPsec to secure the communication between network devices, providing a scalable and flexible VPN solution.</p><p>IPsec can be applied to</p><ul><li>physical interfaces or</li><li>tunnel interfaces.</li></ul><p>The configuration process involves two main phases:</p><ul><li>IKE (Internet Key Exchange)</li><li>IPsec.</li></ul><h3 class="relative group">IKE (Phase 1)<div id=ike-phase-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ike-phase-1 aria-label=Anchor>#</a></span></h3><p>IKE (Phase 1) is responsible for negotiating security associations and establishing a secure channel for IPsec.</p><p>Components of IKE configuration:</p><ol><li>Pre-shared key</li><li>IKE policy (how the negotiation works):<ul><li>Lifetime</li><li>DH (Diffie-Hellman) group</li><li>Encryption method</li><li>Authentication method</li><li>Hash algorithm</li></ul></li></ol><p>Key Exchange Process:</p><ul><li>Uses Diffie-Hellman (DH) algorithm for secure key exchange</li><li>Peers agree on hash, encryption method, and DH group</li><li>Each peer generates private and public keys</li><li>Public keys are exchanged</li><li>Shared secret key is generated using own private key and other&rsquo;s public key</li></ul><p>Example:</p><ul><li>P1 private key + P2 public key = Key1</li><li>P2 private key + P1 public key = Key1</li><li>P3 private key + P1 public key = Key2 (different from Key1)</li></ul><p>This process ensures that only intended peers can generate the same shared secret.</p><h3 class="relative group">IPsec (Phase 2)<div id=ipsec-phase-2 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ipsec-phase-2 aria-label=Anchor>#</a></span></h3><p>IPsec (Phase 2) uses the secure channel established by IKE to negotiate security associations for data traffic.</p><p>Components of IPsec configuration:</p><ol><li>Transform set: Defines authentication and encryption methods for data traffic</li><li>Crypto map: Associates transform sets with specific traffic and peers</li></ol><p>Applying IPsec to Interfaces</p><p>Physical Interface:</p><p>When applying IPsec to a physical interface, crypto map must specify:</p><ul><li>IPsec peer</li><li>Interesting traffic (which traffic should be encrypted)</li><li>Transform set</li></ul><p>Tunnel Interface:</p><p>When applying IPsec to a tunnel interface (e.g., GRE tunnel):</p><p>As Tunnel interface already defines:</p><ul><li>Peer (tunnel destination)</li><li>Traffic (anything routed through the tunnel)</li></ul><p>Crypto map doesn&rsquo;t need to specify:</p><ul><li>IPsec peer</li><li>Interesting traffic</li></ul><h3 class="relative group">AH and ESP<div id=ah-and-esp class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ah-and-esp aria-label=Anchor>#</a></span></h3><p>There are two protocols in ipsec</p><ul><li>AH (Authentication Header)</li><li>ESP (Encapsulating Security Payload)</li></ul><p>AH</p><ul><li>Authenticates the entire IP packet</li><li>Provides integrity and authentication</li><li>Does not provide encryption</li></ul><p>ESP</p><ul><li>Authenticates and encrypts the packet payload</li><li>Does not authenticate the entire IP header</li><li>Provides encryption, integrity, and authentication</li></ul><p>Key Differences</p><ul><li><p>ESP provides both authentication and encryption, while AH only provides authentication.</p></li><li><p>We can either use ESP or AH or both (but not common).</p></li><li><p>Using both ESP and AH simultaneously creates additional overhead without significant security benefits in most cases.</p></li><li><p>NAT cannot be used in AH. When NAT changes the IP addresses in the header, it invalidates the AH integrity check.</p></li></ul><p>Whe ESP and AH are used at the same time. The packet looks like</p><h3 class="relative group">Transform Sets<div id=transform-sets class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#transform-sets aria-label=Anchor>#</a></span></h3><p>When configuring IPsec, we use transform sets to define the protocols and algorithms. The command crypto ipsec transform-set allows to specify:</p><ul><li>encryption method (e.g., ESP-xxx)</li><li>authentication method (e.g. AH-xxx-HMAC, ESP-xxx-HMAC)</li></ul><p>xxx usually are md5 / sha2
You&rsquo;ve outlined the key differences between transport mode and tunnel mode in IPsec. Let&rsquo;s expand on this to provide a more comprehensive comparison:</p><h3 class="relative group">Transport vs. Tunnel<div id=transport-vs-tunnel class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#transport-vs-tunnel aria-label=Anchor>#</a></span></h3><p>Transport Mode</p><ul><li>Insert the ESP header after the IP header</li><li>Encrypt the rest of the IP packet (payload)</li></ul><p>Format:</p><pre tabindex=0><code>[IP Header] | [ESP Header] | [TCP/UDP Header] | [Data] | [ESP Trailer] | [ESP ICV]
</code></pre><p>Tunnel Mode</p><ul><li>Clone the original IP header</li><li>Encrypt the entire original IP packet</li><li>Insert the cloned (new) IP header and ESP header before the encrypted packet</li></ul><p>Format:</p><pre tabindex=0><code>[New IP Header] | [ESP Header] | [Original IP Header] | [TCP/UDP Header] | [Data] | [ESP Trailer] | [ESP ICV]
</code></pre><p>If both AE and ESP are used:</p><pre tabindex=0><code>[New IP Header] | [AH] | [ESP] | [Original IP Packet] | [ESP Trailer] | [ESP ICV]
</code></pre><h2 class="relative group">GRE + IPSEC<div id=gre--ipsec class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#gre--ipsec aria-label=Anchor>#</a></span></h2><h3 class="relative group">Encapsulation Process<div id=encapsulation-process class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#encapsulation-process aria-label=Anchor>#</a></span></h3><p>GRE encapsulates the original packet first:</p><ol><li>Original IP packet (internal IP)</li><li>GRE header is added</li><li>New IP header (tunnel public IP) is added</li></ol><p>Format:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[Outer IP header] | [GRE header] | [Inner IP header] | [Original IP packet]
</span></span></code></pre></div><p>IPsec then processes the GRE packet.</p><p>For transport mode, IPsec uses the existing outer IP header from GRE:</p><ol><li>ESP header is inserted after the outer IP header</li><li>The rest of the packet (GRE header, inner IP header, and original packet) is encrypted</li></ol><p>Format:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[Outer IP header] | [ESP header] | [Encrypted: {GRE header, Inner IP header, Original IP packet}] | [ESP trailer] | [ESP ICV]
</span></span></code></pre></div><p>For tunnel mode, IPsec adds another IP header:</p><ol><li>The entire GRE packet is encrypted</li><li>A new IP header is added</li><li>ESP header is inserted between the new IP header and the encrypted GRE packet</li></ol><p>Format:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[Cloned outer IP header] | [ESP header] | [Encrypted: {Outer IP header, GRE header, Inner IP header, Original IP packet}] | [ESP trailer] | [ESP ICV]
</span></span></code></pre></div><ul><li>Transport mode has less overhead as it uses the GRE outer IP header</li><li>Tunnel mode adds an additional IP header, increasing overhead</li></ul><h3 class="relative group">Routing<div id=routing class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#routing aria-label=Anchor>#</a></span></h3><ul><li>GRE is for Encapsulation</li><li>IPSEC is for Protection</li><li>Actual routing is performed by the router&rsquo;s routing process.</li></ul><p>IPSEC + GRE:</p><ul><li>IPsec IP Header: Used for internet routing</li><li>GRE IP Header: Can be a placeholder (loopback) or private IP (no direct reachability)</li></ul><p>GRE Tunnel:</p><ul><li>Not a &ldquo;real&rdquo; physical tunnel</li><li>Always up (unless manually shut down)</li><li>A logical interface for encapsulation</li><li>Main reason to is:<ul><li>Supports multicast traffic</li><li>Allows running of IGP like OSPF, EIGRP cross multiple networks</li></ul></li></ul></div></div><script>var oid="views_posts/25-Setup_DMVPN.md",oid_likes="likes_posts/25-Setup_DMVPN.md"</script><script type=text/javascript src=/js/page.min.b06a29d42a4ed16787978e2eee1e8c797b7698db2bc14ccee78f5c80ac566fc996190a73ad80a5e987558474b20b96fa38f7d85b405f165ff72b7b163c5ad11b.js integrity="sha512-sGop1CpO0WeHl44u7h6MeXt2mNsrwUzO549cgKxWb8mWGQpzrYCl6YdVhHSyC5b6OPfYW0BfFl/3K3sWPFrRGw=="></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/posts/24-setup_mpls_vpn/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">24 - Setup MPLS VPN</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2024-08-23 00:00:00 +0000 UTC">23 August 2024</time></span></span></a></span>
<span></span></div></div><div class=pt-3><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class=pt-3><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://hugotkk-github-io.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></footer></article></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex flex-col list-none sm:flex-row"><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/posts/ title=Posts>Articles</a></li><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/tags/ title=Tags>Tags</a></li></ul></nav><div class="flex items-center justify-between"></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.62060bb247f4de2b6dde45903668fefb68d792f365587605177b1227c0cf43588701edaca0cb40e2c8e2789bd5ce67c1d2a215b9fb258c3496a7cd25e7cb5fdf.js integrity="sha512-YgYLskf03itt3kWQNmj++2jXkvNlWHYFF3sSJ8DPQ1iHAe2soMtA4sjieJvVzmfB0qIVufsljDSWp80l58tf3w=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://hugotkk.github.com/ style=z-index:500><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Search tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Close (Esc)">
<span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>