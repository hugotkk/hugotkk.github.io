<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>AWS Certified Advanced Networking - Specialty | Hugo</title>
<meta name=keywords content="cert,exam">
<meta name=description content="Resources  AWS Certified Advanced Networking Specialty 2021  How to connect VPCs  Transit gateway peering attachments What is VPC peering? Transit Gateway vs VPC peering     Solution / Situation same region cross region cross account     VPC Peering OK OK OK   TGW Peering OK OK OK   TGW (attach VPC) OK NO OK   AWS Managed VPN OK OK OK   EC2 Based VPN OK OK OK    Private Link is something like tgw peer but for spefic service only.">
<meta name=author content="Hugo">
<link rel=canonical href=https://hugotkk.github.io/posts/aws-certified-advanced-network/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.6cba0d81b5f3f42bb578d49f402ba4175aa72b43def148780b8ad714c957c6f5.css integrity="sha256-bLoNgbXz9Cu1eNSfQCukF1qnK0Pe8Uh4C4rXFMlXxvU=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://hugotkk.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://hugotkk.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://hugotkk.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://hugotkk.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://hugotkk.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.90.1">
<meta property="og:title" content="AWS Certified Advanced Networking - Specialty">
<meta property="og:description" content="Resources  AWS Certified Advanced Networking Specialty 2021  How to connect VPCs  Transit gateway peering attachments What is VPC peering? Transit Gateway vs VPC peering     Solution / Situation same region cross region cross account     VPC Peering OK OK OK   TGW Peering OK OK OK   TGW (attach VPC) OK NO OK   AWS Managed VPN OK OK OK   EC2 Based VPN OK OK OK    Private Link is something like tgw peer but for spefic service only.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://hugotkk.github.io/posts/aws-certified-advanced-network/"><meta property="og:image" content="https://hugotkk.github.io/papermod-cover.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-11-26T00:00:00+00:00">
<meta property="article:modified_time" content="2021-11-26T00:00:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://hugotkk.github.io/papermod-cover.png">
<meta name=twitter:title content="AWS Certified Advanced Networking - Specialty">
<meta name=twitter:description content="Resources  AWS Certified Advanced Networking Specialty 2021  How to connect VPCs  Transit gateway peering attachments What is VPC peering? Transit Gateway vs VPC peering     Solution / Situation same region cross region cross account     VPC Peering OK OK OK   TGW Peering OK OK OK   TGW (attach VPC) OK NO OK   AWS Managed VPN OK OK OK   EC2 Based VPN OK OK OK    Private Link is something like tgw peer but for spefic service only.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hugotkk.github.io/posts/"},{"@type":"ListItem","position":2,"name":"AWS Certified Advanced Networking - Specialty","item":"https://hugotkk.github.io/posts/aws-certified-advanced-network/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS Certified Advanced Networking - Specialty","name":"AWS Certified Advanced Networking - Specialty","description":"Resources  AWS Certified Advanced Networking Specialty 2021  How to connect VPCs  Transit gateway peering attachments What is VPC peering? Transit Gateway vs VPC peering     Solution / Situation same region cross region cross account     VPC Peering OK OK OK   TGW Peering OK OK OK   TGW (attach VPC) OK NO OK   AWS Managed VPN OK OK OK   EC2 Based VPN OK OK OK    Private Link is something like tgw peer but for spefic service only.","keywords":["cert","exam"],"articleBody":"Resources  AWS Certified Advanced Networking Specialty 2021  How to connect VPCs  Transit gateway peering attachments What is VPC peering? Transit Gateway vs VPC peering     Solution / Situation same region cross region cross account     VPC Peering OK OK OK   TGW Peering OK OK OK   TGW (attach VPC) OK NO OK   AWS Managed VPN OK OK OK   EC2 Based VPN OK OK OK    Private Link is something like tgw peer but for spefic service only. It can cross region and account.\nScope    Resource Scope     VGW VPC   TGW VPC   NLB VPC   ALB VPC   Route53 VPC   NAT Subnet    Exam Essentials    Page Topic     190 VPC   300-302 VPC Peering   402 VPN   632 Direct Connect    VPC Peering Failed cases    Page Title     207 CIDR overlap or transitive routing   208 from DX or VPN   209 to IGW    Site-to-site VPN with VGW Use cases    Page Title     335 Site-to-site Connection with NAT-Traversal   361 Single Site-to-site Connection with VGW   363 Multiple Site-to-site Connection with VGW   365 Redundant VPN connections for HA    VPN CloudHub  369  EC2 Based VPN    Page Title     375 Single instance   376 HA   378 Horizontal scaling - VPN EC2 per subnet   379 Horizontal scaling - Split traffic    Transit VPC    Page Title     391 Transit VPC   398 global regions with single Transit Hub   398 global regions with multiple Transit Hub    Failed cases    Page Title     340 Site-to-site VPN to IGW   341 Site-to-site VPN to NAT   343 Site-to-site VPN to VPC Peering   344 Site-to-site VPN to VPC Gateway endpoint    Successful cases    Page Title     342 Site-to-site VPN to NAT Instance   345 Site-to-site VPN to VPC Interface endpoint   345 Site-to-site VPN to on-premise NAT to Internet    Direct Connect Use cases    Page Title     591 VPN as a backup   592 Dual Devices   593 Dual locations   594 Dual locations with DX connection backup   602 VPN over DX    Failed cases    Page Title     530 DX Gateway with multiple customer sites   542 DX Gateway with multiple TGWs    Successful cases    Page Title     546 DX Gateway with multiple customer sites    Limitation VPC Limit\nPeering VPC Peering: 125\nRouting    Resource Limit     Private VIFs 100   Public VIFs 1000    MTU (159)    Resource Limit     VPC 9001   VPC Peering 1500   DX 9001   TGW (to DX) 8500   TGW (to VPN) 1500   VPC Endpoint 1500   NAT 1500   IGW 1500   VPN 1500    Bandwidth  Quotas for your TGW Aggregated throughput limit for VGW NAT gateways  VPC (180)    Resource Limit     VPC Peer no   IGW no   NAT 5-45Gbps   TGW depends   VGW 1.25Gbps   VGW (to DX) depends on DX    TGW  1 VPN can have 2 tunnels     Resource Limit per resource     VPC 50Gbps   DX 50Gbps   TGW 50Gbps   VPN tunnel 1.25Gbps    VPN Tunnel 1.25Gbps\nEC2  100G networking in AWS, a network performance deep dive  EC2 network performance rules:\n single flow limit within regions and other     Situation Limit     w/i the region 100%   to other regions 50%   igw 50%   dx 50%    Single Flow    Situation Limit     w/i placement group 10Gbps   other 5Gbps    Aggregated  General Purpose Network Performance     Situation Limit     w enhanced networking 100Gbps   w/o enhanced networking 25Gbps       Network Driver Limit     Intel 82599VF 10Gbps   ENA 100Gbps   EFA 100Gbps    VPC Addressing Reversed IPs in subnet https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html\nDefault route table will have rule:  local Limited ips per ENI Single ENI can have multiple private IPs. Depends on the instance types.\nhttps://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html\nVPC Route tables by default the subnet will use vpc route table\nwe can customise the route table per subnet\nVPC Firewall EC2 - Security Group - NACL\nSecurity Group is stateful\nDC need to know about BGP first\nECMP  can aggregate the VPN tunnel only support at BGP routing  ","wordCount":"567","inLanguage":"en","datePublished":"2021-11-26T00:00:00Z","dateModified":"2021-11-26T00:00:00Z","author":[{"@type":"Person","name":"Hugo"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://hugotkk.github.io/posts/aws-certified-advanced-network/"},"publisher":{"@type":"Organization","name":"Hugo","logo":{"@type":"ImageObject","url":"https://hugotkk.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://hugotkk.github.io/ accesskey=h title="Hugo (Alt + H)">Hugo</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://hugotkk.github.io/archives/ title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://hugotkk.github.io/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://hugotkk.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=https://hugotkk.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://hugotkk.github.io/posts/>Posts</a></div>
<h1 class=post-title>
AWS Certified Advanced Networking - Specialty
</h1>
<div class=post-meta>November 26, 2021&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Hugo
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner><ul>
<li>
<a href=#resources aria-label=Resources>Resources</a></li>
<li>
<a href=#how-to-connect-vpcs aria-label="How to connect VPCs">How to connect VPCs</a></li>
<li>
<a href=#scope aria-label=Scope>Scope</a></li>
<li>
<a href=#exam-essentials aria-label="Exam Essentials">Exam Essentials</a></li>
<li>
<a href=#vpc-peering aria-label="VPC Peering">VPC Peering</a><ul>
<li>
<a href=#failed-cases aria-label="Failed cases">Failed cases</a></li></ul>
</li>
<li>
<a href=#site-to-site-vpn-with-vgw aria-label="Site-to-site VPN with VGW">Site-to-site VPN with VGW</a><ul>
<li>
<a href=#use-cases aria-label="Use cases">Use cases</a><ul>
<li>
<a href=#vpn-cloudhub aria-label="VPN CloudHub">VPN CloudHub</a></li>
<li>
<a href=#ec2-based-vpn aria-label="EC2 Based VPN">EC2 Based VPN</a></li>
<li>
<a href=#transit-vpc aria-label="Transit VPC">Transit VPC</a></li></ul>
</li>
<li>
<a href=#failed-cases-1 aria-label="Failed cases">Failed cases</a></li>
<li>
<a href=#successful-cases aria-label="Successful cases">Successful cases</a></li></ul>
</li>
<li>
<a href=#direct-connect aria-label="Direct Connect">Direct Connect</a><ul>
<li>
<a href=#use-cases-1 aria-label="Use cases">Use cases</a></li>
<li>
<a href=#failed-cases-2 aria-label="Failed cases">Failed cases</a></li>
<li>
<a href=#successful-cases-1 aria-label="Successful cases">Successful cases</a></li></ul>
</li>
<li>
<a href=#limitation aria-label=Limitation>Limitation</a><ul>
<li>
<a href=#peering aria-label=Peering>Peering</a></li>
<li>
<a href=#routing aria-label=Routing>Routing</a></li>
<li>
<a href=#mtu-159 aria-label="MTU (159)">MTU (159)</a></li>
<li>
<a href=#bandwidth aria-label=Bandwidth>Bandwidth</a><ul>
<li>
<a href=#vpc-180 aria-label="VPC (180)">VPC (180)</a></li>
<li>
<a href=#tgw aria-label=TGW>TGW</a></li>
<li>
<a href=#vpn-tunnel aria-label="VPN Tunnel">VPN Tunnel</a></li>
<li>
<a href=#ec2 aria-label=EC2>EC2</a><ul>
<li>
<a href=#single-flow aria-label="Single Flow">Single Flow</a></li>
<li>
<a href=#aggregated aria-label=Aggregated>Aggregated</a></li></ul>
</li></ul>
</li></ul>
</li>
<li>
<a href=#vpc-addressing aria-label="VPC Addressing">VPC Addressing</a><ul>
<li>
<a href=#reversed-ips-in-subnet aria-label="Reversed IPs in subnet">Reversed IPs in subnet</a></li>
<li>
<a href=#default-route-table-will-have-rule-vpc_cidr-local aria-label="Default route table will have rule: &amp;lt;vpc_cidr&amp;gt; local">Default route table will have rule: &lt;vpc_cidr> local</a></li>
<li>
<a href=#limited-ips-per-eni aria-label="Limited ips per ENI">Limited ips per ENI</a></li></ul>
</li>
<li>
<a href=#vpc-route-tables aria-label="VPC Route tables">VPC Route tables</a></li>
<li>
<a href=#vpc-firewall aria-label="VPC Firewall">VPC Firewall</a></li>
<li>
<a href=#dc aria-label=DC>DC</a></li>
<li>
<a href=#ecmp aria-label=ECMP>ECMP</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><h1 id=resources>Resources<a hidden class=anchor aria-hidden=true href=#resources>#</a></h1>
<ul>
<li><a href=https://www.udemy.com/course/aws-certified-advanced-networking-specialty-ans/>AWS Certified Advanced Networking Specialty 2021</a></li>
</ul>
<h1 id=how-to-connect-vpcs>How to connect VPCs<a hidden class=anchor aria-hidden=true href=#how-to-connect-vpcs>#</a></h1>
<ul>
<li><a href=https://docs.aws.amazon.com/vpc/latest/tgw/tgw-peering.html>Transit gateway peering attachments</a></li>
<li><a href=https://docs.aws.amazon.com/vpc/latest/peering/what-is-vpc-peering.html>What is VPC peering?</a></li>
<li><a href=https://docs.aws.amazon.com/whitepapers/latest/building-scalable-secure-multi-vpc-network-infrastructure/transit-gateway-vs-vpc-peering.html>Transit Gateway vs VPC peering</a></li>
</ul>
<table>
<thead>
<tr>
<th>Solution / Situation</th>
<th>same region</th>
<th>cross region</th>
<th>cross account</th>
</tr>
</thead>
<tbody>
<tr>
<td>VPC Peering</td>
<td>OK</td>
<td>OK</td>
<td>OK</td>
</tr>
<tr>
<td>TGW Peering</td>
<td>OK</td>
<td>OK</td>
<td>OK</td>
</tr>
<tr>
<td>TGW (attach VPC)</td>
<td>OK</td>
<td>NO</td>
<td>OK</td>
</tr>
<tr>
<td>AWS Managed VPN</td>
<td>OK</td>
<td>OK</td>
<td>OK</td>
</tr>
<tr>
<td>EC2 Based VPN</td>
<td>OK</td>
<td>OK</td>
<td>OK</td>
</tr>
</tbody>
</table>
<p>Private Link is something like tgw peer but for spefic service only. It can cross region and account.</p>
<h1 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h1>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Scope</th>
</tr>
</thead>
<tbody>
<tr>
<td>VGW</td>
<td>VPC</td>
</tr>
<tr>
<td>TGW</td>
<td>VPC</td>
</tr>
<tr>
<td>NLB</td>
<td>VPC</td>
</tr>
<tr>
<td>ALB</td>
<td>VPC</td>
</tr>
<tr>
<td>Route53</td>
<td>VPC</td>
</tr>
<tr>
<td>NAT</td>
<td>Subnet</td>
</tr>
</tbody>
</table>
<h1 id=exam-essentials>Exam Essentials<a hidden class=anchor aria-hidden=true href=#exam-essentials>#</a></h1>
<table>
<thead>
<tr>
<th>Page</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr>
<td>190</td>
<td>VPC</td>
</tr>
<tr>
<td>300-302</td>
<td>VPC Peering</td>
</tr>
<tr>
<td>402</td>
<td>VPN</td>
</tr>
<tr>
<td>632</td>
<td>Direct Connect</td>
</tr>
</tbody>
</table>
<h1 id=vpc-peering>VPC Peering<a hidden class=anchor aria-hidden=true href=#vpc-peering>#</a></h1>
<h2 id=failed-cases>Failed cases<a hidden class=anchor aria-hidden=true href=#failed-cases>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>207</td>
<td>CIDR overlap or transitive routing</td>
</tr>
<tr>
<td>208</td>
<td>from DX or VPN</td>
</tr>
<tr>
<td>209</td>
<td>to IGW</td>
</tr>
</tbody>
</table>
<h1 id=site-to-site-vpn-with-vgw>Site-to-site VPN with VGW<a hidden class=anchor aria-hidden=true href=#site-to-site-vpn-with-vgw>#</a></h1>
<h2 id=use-cases>Use cases<a hidden class=anchor aria-hidden=true href=#use-cases>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>335</td>
<td>Site-to-site Connection with NAT-Traversal</td>
</tr>
<tr>
<td>361</td>
<td>Single Site-to-site Connection with VGW</td>
</tr>
<tr>
<td>363</td>
<td>Multiple Site-to-site Connection with VGW</td>
</tr>
<tr>
<td>365</td>
<td>Redundant VPN connections for HA</td>
</tr>
</tbody>
</table>
<h3 id=vpn-cloudhub>VPN CloudHub<a hidden class=anchor aria-hidden=true href=#vpn-cloudhub>#</a></h3>
<ul>
<li>369</li>
</ul>
<h3 id=ec2-based-vpn>EC2 Based VPN<a hidden class=anchor aria-hidden=true href=#ec2-based-vpn>#</a></h3>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>375</td>
<td>Single instance</td>
</tr>
<tr>
<td>376</td>
<td>HA</td>
</tr>
<tr>
<td>378</td>
<td>Horizontal scaling - VPN EC2 per subnet</td>
</tr>
<tr>
<td>379</td>
<td>Horizontal scaling - Split traffic</td>
</tr>
</tbody>
</table>
<h3 id=transit-vpc>Transit VPC<a hidden class=anchor aria-hidden=true href=#transit-vpc>#</a></h3>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>391</td>
<td>Transit VPC</td>
</tr>
<tr>
<td>398</td>
<td>global regions with single Transit Hub</td>
</tr>
<tr>
<td>398</td>
<td>global regions with multiple Transit Hub</td>
</tr>
</tbody>
</table>
<h2 id=failed-cases-1>Failed cases<a hidden class=anchor aria-hidden=true href=#failed-cases-1>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>340</td>
<td>Site-to-site VPN to IGW</td>
</tr>
<tr>
<td>341</td>
<td>Site-to-site VPN to NAT</td>
</tr>
<tr>
<td>343</td>
<td>Site-to-site VPN to VPC Peering</td>
</tr>
<tr>
<td>344</td>
<td>Site-to-site VPN to VPC Gateway endpoint</td>
</tr>
</tbody>
</table>
<h2 id=successful-cases>Successful cases<a hidden class=anchor aria-hidden=true href=#successful-cases>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>342</td>
<td>Site-to-site VPN to NAT Instance</td>
</tr>
<tr>
<td>345</td>
<td>Site-to-site VPN to VPC Interface endpoint</td>
</tr>
<tr>
<td>345</td>
<td>Site-to-site VPN to on-premise NAT to Internet</td>
</tr>
</tbody>
</table>
<h1 id=direct-connect>Direct Connect<a hidden class=anchor aria-hidden=true href=#direct-connect>#</a></h1>
<h2 id=use-cases-1>Use cases<a hidden class=anchor aria-hidden=true href=#use-cases-1>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>591</td>
<td>VPN as a backup</td>
</tr>
<tr>
<td>592</td>
<td>Dual Devices</td>
</tr>
<tr>
<td>593</td>
<td>Dual locations</td>
</tr>
<tr>
<td>594</td>
<td>Dual locations with DX connection backup</td>
</tr>
<tr>
<td>602</td>
<td>VPN over DX</td>
</tr>
</tbody>
</table>
<h2 id=failed-cases-2>Failed cases<a hidden class=anchor aria-hidden=true href=#failed-cases-2>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>530</td>
<td>DX Gateway with multiple customer sites</td>
</tr>
<tr>
<td>542</td>
<td>DX Gateway with multiple TGWs</td>
</tr>
</tbody>
</table>
<h2 id=successful-cases-1>Successful cases<a hidden class=anchor aria-hidden=true href=#successful-cases-1>#</a></h2>
<table>
<thead>
<tr>
<th>Page</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr>
<td>546</td>
<td>DX Gateway with multiple customer sites</td>
</tr>
</tbody>
</table>
<h1 id=limitation>Limitation<a hidden class=anchor aria-hidden=true href=#limitation>#</a></h1>
<p><a href=https://docs.aws.amazon.com/vpc/latest/userguide/amazon-vpc-limits.html>VPC Limit</a></p>
<h2 id=peering>Peering<a hidden class=anchor aria-hidden=true href=#peering>#</a></h2>
<p>VPC Peering: 125</p>
<h2 id=routing>Routing<a hidden class=anchor aria-hidden=true href=#routing>#</a></h2>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>Private VIFs</td>
<td>100</td>
</tr>
<tr>
<td>Public VIFs</td>
<td>1000</td>
</tr>
</tbody>
</table>
<h2 id=mtu-159>MTU (159)<a hidden class=anchor aria-hidden=true href=#mtu-159>#</a></h2>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>VPC</td>
<td>9001</td>
</tr>
<tr>
<td>VPC Peering</td>
<td>1500</td>
</tr>
<tr>
<td>DX</td>
<td>9001</td>
</tr>
<tr>
<td>TGW (to DX)</td>
<td>8500</td>
</tr>
<tr>
<td>TGW (to VPN)</td>
<td>1500</td>
</tr>
<tr>
<td>VPC Endpoint</td>
<td>1500</td>
</tr>
<tr>
<td>NAT</td>
<td>1500</td>
</tr>
<tr>
<td>IGW</td>
<td>1500</td>
</tr>
<tr>
<td>VPN</td>
<td>1500</td>
</tr>
</tbody>
</table>
<h2 id=bandwidth>Bandwidth<a hidden class=anchor aria-hidden=true href=#bandwidth>#</a></h2>
<ul>
<li><a href=https://docs.aws.amazon.com/vpc/latest/tgw/transit-gateway-quotas.html>Quotas for your TGW</a></li>
<li><a href=https://aws.amazon.com/vpn/faqs/>Aggregated throughput limit for VGW</a></li>
<li><a href=https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html>NAT gateways</a></li>
</ul>
<h3 id=vpc-180>VPC (180)<a hidden class=anchor aria-hidden=true href=#vpc-180>#</a></h3>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>VPC Peer</td>
<td>no</td>
</tr>
<tr>
<td>IGW</td>
<td>no</td>
</tr>
<tr>
<td>NAT</td>
<td>5-45Gbps</td>
</tr>
<tr>
<td>TGW</td>
<td>depends</td>
</tr>
<tr>
<td>VGW</td>
<td>1.25Gbps</td>
</tr>
<tr>
<td>VGW (to DX)</td>
<td>depends on DX</td>
</tr>
</tbody>
</table>
<h3 id=tgw>TGW<a hidden class=anchor aria-hidden=true href=#tgw>#</a></h3>
<ul>
<li>1 VPN can have 2 tunnels</li>
</ul>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Limit per resource</th>
</tr>
</thead>
<tbody>
<tr>
<td>VPC</td>
<td>50Gbps</td>
</tr>
<tr>
<td>DX</td>
<td>50Gbps</td>
</tr>
<tr>
<td>TGW</td>
<td>50Gbps</td>
</tr>
<tr>
<td>VPN tunnel</td>
<td>1.25Gbps</td>
</tr>
</tbody>
</table>
<h3 id=vpn-tunnel>VPN Tunnel<a hidden class=anchor aria-hidden=true href=#vpn-tunnel>#</a></h3>
<p>1.25Gbps</p>
<h3 id=ec2>EC2<a hidden class=anchor aria-hidden=true href=#ec2>#</a></h3>
<ul>
<li><a href=https://toonk.io/aws-network-performance-deep-dive/index.html>100G networking in AWS, a network performance deep dive</a></li>
</ul>
<p>EC2 network performance rules:</p>
<ul>
<li>single flow limit</li>
<li>within regions and other</li>
</ul>
<table>
<thead>
<tr>
<th>Situation</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>w/i the region</td>
<td>100%</td>
</tr>
<tr>
<td>to other regions</td>
<td>50%</td>
</tr>
<tr>
<td>igw</td>
<td>50%</td>
</tr>
<tr>
<td>dx</td>
<td>50%</td>
</tr>
</tbody>
</table>
<h4 id=single-flow>Single Flow<a hidden class=anchor aria-hidden=true href=#single-flow>#</a></h4>
<table>
<thead>
<tr>
<th>Situation</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>w/i placement group</td>
<td>10Gbps</td>
</tr>
<tr>
<td>other</td>
<td>5Gbps</td>
</tr>
</tbody>
</table>
<h4 id=aggregated>Aggregated<a hidden class=anchor aria-hidden=true href=#aggregated>#</a></h4>
<ul>
<li><a href=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/general-purpose-instances.html#general-purpose-network-performance>General Purpose Network Performance</a></li>
</ul>
<table>
<thead>
<tr>
<th>Situation</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>w enhanced networking</td>
<td>100Gbps</td>
</tr>
<tr>
<td>w/o enhanced networking</td>
<td>25Gbps</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Network Driver</th>
<th>Limit</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel 82599VF</td>
<td>10Gbps</td>
</tr>
<tr>
<td>ENA</td>
<td>100Gbps</td>
</tr>
<tr>
<td>EFA</td>
<td>100Gbps</td>
</tr>
</tbody>
</table>
<h1 id=vpc-addressing>VPC Addressing<a hidden class=anchor aria-hidden=true href=#vpc-addressing>#</a></h1>
<h2 id=reversed-ips-in-subnet>Reversed IPs in subnet<a hidden class=anchor aria-hidden=true href=#reversed-ips-in-subnet>#</a></h2>
<p><a href=https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html>https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html</a></p>
<h2 id=default-route-table-will-have-rule-vpc_cidr-local>Default route table will have rule: &lt;vpc_cidr> local<a hidden class=anchor aria-hidden=true href=#default-route-table-will-have-rule-vpc_cidr-local>#</a></h2>
<h2 id=limited-ips-per-eni>Limited ips per ENI<a hidden class=anchor aria-hidden=true href=#limited-ips-per-eni>#</a></h2>
<p>Single ENI can have multiple private IPs. Depends on the instance types.</p>
<p><a href=https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html>https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-eni.html</a></p>
<h1 id=vpc-route-tables>VPC Route tables<a hidden class=anchor aria-hidden=true href=#vpc-route-tables>#</a></h1>
<p>by default the subnet will use vpc route table</p>
<p>we can customise the route table per subnet</p>
<h1 id=vpc-firewall>VPC Firewall<a hidden class=anchor aria-hidden=true href=#vpc-firewall>#</a></h1>
<p>EC2 -> Security Group -> NACL</p>
<p>Security Group is stateful</p>
<h1 id=dc>DC<a hidden class=anchor aria-hidden=true href=#dc>#</a></h1>
<p>need to know about BGP first</p>
<h1 id=ecmp>ECMP<a hidden class=anchor aria-hidden=true href=#ecmp>#</a></h1>
<ul>
<li>can aggregate the VPN tunnel</li>
<li>only support at BGP routing</li>
</ul>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://hugotkk.github.io/tags/cert/>cert</a></li>
<li><a href=https://hugotkk.github.io/tags/exam/>exam</a></li>
</ul>
<nav class=paginav>
<a class=prev href=https://hugotkk.github.io/posts/movies-about-hk/>
<span class=title>« Prev Page</span>
<br>
<span>Movies about Hong Kong</span>
</a>
<a class=next href=https://hugotkk.github.io/posts/blockchain-use-case/>
<span class=title>Next Page »</span>
<br>
<span>Blockchain use cases</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share AWS Certified Advanced Networking - Specialty on twitter" href="https://twitter.com/intent/tweet/?text=AWS%20Certified%20Advanced%20Networking%20-%20Specialty&url=https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f&hashtags=cert%2cexam"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share AWS Certified Advanced Networking - Specialty on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f&title=AWS%20Certified%20Advanced%20Networking%20-%20Specialty&summary=AWS%20Certified%20Advanced%20Networking%20-%20Specialty&source=https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share AWS Certified Advanced Networking - Specialty on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f&title=AWS%20Certified%20Advanced%20Networking%20-%20Specialty"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share AWS Certified Advanced Networking - Specialty on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share AWS Certified Advanced Networking - Specialty on whatsapp" href="https://api.whatsapp.com/send?text=AWS%20Certified%20Advanced%20Networking%20-%20Specialty%20-%20https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share AWS Certified Advanced Networking - Specialty on telegram" href="https://telegram.me/share/url?text=AWS%20Certified%20Advanced%20Networking%20-%20Specialty&url=https%3a%2f%2fhugotkk.github.io%2fposts%2faws-certified-advanced-network%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://hugotkk.github.io/>Hugo</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>